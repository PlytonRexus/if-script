/*! For license information please see main.f4b377e5bf71f74e297f.bundle.js.LICENSE.txt */
(self.webpackChunkif_script=self.webpackChunkif_script||[]).push([[179],{570:(e,t,n)=>{"use strict";var r,a,s=n(212);r="undefined"!=typeof self?self:void 0,a=async function(){return s.Z},"object"==typeof module&&module.exports?module.exports=a():r&&(r.IF=a());const o=s.Z;window.navigator.userAgent.toLowerCase().match(/msie|trident\/7|edge/);var i=new Event("click"),l=[{0:"s",1:"Control"}],c=[],u=n(12);const d=`\nsettings__\n  @storyTitle "Tutorial"\n  @fullTimer 100000 1\n  @startAt 1\n__settings\n\nsection__\n  @title "Introduction"\n  a = 12\n  b = 4\n"### Welcome to your very first IF-Script game!\n\n\`\`\`Built: ${(new Date).toDateString()}\nCopyright (c) ${(new Date).getUTCFullYear()} The IF-Script Contributors\nAuthor(s): Mihir Jichkar\nMIT Licensed\`\`\`\n\n[https://github.com/plytonrexus/if-script-core.git](https://github.com/PlytonRexus/if-script-core.git)\n\n\`Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an AS IS BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\`"\n  choice__\n    @target "starvation"\n    "Next"\n  __choice\n  choice__\n    @target "only_scene"\n    @targetType "scene"\n    "To war"\n  __choice\n  if__ (a > 10 && b == 4) {\n    choice__\n      @target 2\n      "Same as the first one"\n    __choice\n  } else__ {\n    b = 10\n  }\n__section\n\nsection__\n@title "Starvation"\n@id "starvation"\n\n"Your majesty, your people are starving in the streets, and threaten revolution.\nOur enemies to the west are weak, but they threaten soon to invade. What will you do?"\n\n  choice__\n    @target 3\n    "Make pre-emptive war on the western lands."\n  __choice\n  choice__\n    @target 4\n    "Beat swords to plowshares and trade food to the westerners for protection."\n  __choice\n  choice__\n    @target 5\n    "Abdicate the throne. I have clearly mismanaged this kingdom!"\n  __choice\n__section\n\n\nscene__\n  @first "war"\n  @sections "war" "sword" "chaos"\n  @id "only_scene"\n__scene\n\n/* 3 */\nsection__\n@id "war"\n@title "I choose war"\n"If you can seize their territory, your kingdom will flourish.\nBut your army's morale is low and the kingdom's armory is empty.\nHow will you win the war?"\n  choice__\n    @target 6\n    "Drive the peasants like slaves; if we work hard enough, we'll win."\n  __choice\n  choice__\n    @target 7\n    "Appoint charismatic knights and give them land, peasants, and resources."\n  __choice\n  choice__\n    @target 8\n    "Steal food and weapons from the enemy in the dead of night."\n  __choice\n__section\n\n/* 4 */\nsection__\n  @id "sword"\n"The westerners have you at the point of a sword. They demand unfair terms from you."\n  choice__\n    @target 10\n    "Accept their terms for now"\n  __choice\n\n  choice__\n    @target 11\n    "Threaten to salt our fields if they don't offer better terms."\n  __choice\n__section\n\n/* 5 */\nsection__\n  @id "chaos"\n"The kingdom descends into chaos, but you manage to escape with your own hide. Perhaps in time you can return to restore order to this fair land."\n  choice__\n    @target 9\n    "Next ..."\n  __choice\n__section\n\n/* 6 */\nsection__\n"Unfortunately, morale doesn't work like that. Your army soon turns against you and the kingdom falls to the western barbarians."\n  choice__\n    @target 9\n    "Next ..."\n  __choice\n__section\n\n/* 7 */\nsection__\n"Your majesty's people are eminently resourceful. Your knights win the day, but take care: they may soon demand a convention of parliament."\n  choice__\n    @target 9\n    "Next ..."\n  __choice\n__section\n\n/* 8 */\nsection__\n"A cunning plan. Soon your army is a match for the westerners; they choose not to invade for now, but how long can your majesty postpone the inevitable?"\n  choice__\n    @target 9\n    "Next ..."\n  __choice\n__section\n\n/* 9 */\nsection__\n"That's it. Thank you!"\n  choice__\n    @target 1\n    "Back to information"\n  __choice\n__section\n\n/* 10 */\nsection__\n  "Eventually, the barbarian westerners conquer you anyway, destroying their bread basket, and the entire region starves."\n  choice__\n    @target 9\n    "Next ..."\n  __choice\n__section\n\n/* 11 */\nsection__\n  "They blink. Your majesty gets a fair price for wheat."\n  choice__\n    @target 9\n    "Next ..."\n  __choice\n__section\n`;var h=new o("STREAM");h.init().then((function(){var e=h.parser,t=h.interpreter,r=document.querySelector.bind(document),a=document.querySelectorAll.bind(document),s=r("#root");console.log("Serving on: "+n.p);var o="if_r-story-text",p="if_r-story-stats",f="if_r-scheme-preference",g="if_r-mode-preference",_="if_r-view-preference",m="if_r-editor-preference",b="if_r-output-preference",w="dark",v="light";function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return localStorage.getItem(e)}function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;return localStorage.setItem(e,t)}function x(e,t){if(document.selection)e.focus(),document.selection.createRange().text=t;else if(e.selectionStart||"0"==e.selectionStart){var n=e.selectionStart,r=e.selectionEnd;e.value=e.value.substring(0,n)+t+e.value.substring(r,e.value.length),e.selectionStart=n+t.length,e.selectionEnd=n+t.length}else e.value+=t}function S(e){var t=g;if("compact"===e){r(".topnav").style.height="0",r(".main-div").style.height="100vh",r("#output-div").style.height="100vh",r("#editor-div").style.height="100vh";var n=r("#auxbtn");n.style.display="block",n.onclick=function(){S("regular"),n.onclick="",n.style.display="none"},k(t,"compact")}else"regular"===e&&(r(".topnav").style.height="10vh",r(".main-div").style.height="90vh",r("#output-div").style.height="90vh",r("#editor-div").style.height="90vh",k(t,"regular"))}function I(e){var t=r("#if_r-input-area"),n=r("#if_r-stats-editor"),s=r(".topnav"),o=a(".tab"),i=a(".tab button"),l=r("#output-div");e===w?(t.style.background="rgb(50, 50, 50)",t.style.color="white",n.style.background="rgb(50, 50, 50)",n.style.color="white",s.style.background="rgb(50, 50, 50)",s.style.color="black",o.forEach((function(e){return e.style.background="rgb(50, 50, 50)"})),i.forEach((function(e){return e.style.color="whitesmoke"})),l.style.background="rgb(50, 50, 50)",k(f,w)):e===v&&(t.style.background="whitesmoke",t.style.color="rgb(40, 40, 40)",n.style.background="whitesmoke",n.style.color="rgb(40, 40, 40)",s.style.background="whitesmoke",o.forEach((function(e){return e.style.background="whitesmoke"})),i.forEach((function(e){return e.style.color="black"})),l.style.background="rgba(102, 102, 102, 0)",k(f,v))}function P(e){var t=r("#output-div"),n=r("#editor-div"),a=_;e||console.warn("The view argument is required!"),"read"===e?(n.style.width="0",t.style.width="100%",k(a,"read")):"write"===e?(t.style.width="0",n.style.width="100%",k(a,"write")):"balanced"===e&&(t.style.width="50%",n.style.width="50%",k(a,"balanced"))}function F(e){if(e.ctrlKey){var t=e.target.getAttribute("data-target-button");h.DEBUG&&console.log(t),r(t)&&r(t).click()}}function j(e,t,n,r,a){var s=document.createElement(e);return t&&Object.keys(t).forEach((function(e){s.setAttribute(e,t[e])})),n&&Object.keys(n).forEach((function(e){s.style[e]=n[e]})),a&&a.forEach((function(e){return s.appendChild(e)})),r&&Object.keys(r).forEach((function(e){return s[e]=r[e]})),s}var T,M=j("button",{id:"auxbtn",class:"navbtn",title:"Show menubar"},null,{innerHTML:"&#x2630;"}),E=j("div",{id:"modal",class:"modal"},null,null,[j("div",{class:"modal-content"},null,{innerHTML:'<span class="modal-close">&times;</span>'})]),C=j("a",{class:"download-btn tooltip navbtn",download:"compiled-story.json"},null,{onclick:function(){if(!t.run.story||Object.keys(t.run.story).length<=0)return console.log("Run the story at least once.");var e=new Blob(["".concat(JSON.stringify(t.run.story))],{type:"text/javascript"});C.setAttribute("href",window.URL.createObjectURL(e))},innerHTML:'Download story\n      <span class="tooltiptext">Download the story file for embedding</span>'}),L=j("a",{class:"download-btn tooltip navbtn",download:"story.ifs"},null,{onclick:function(){var e=new Blob([r("#if_r-input-area").value],{type:"text/plain"});L.setAttribute("href",window.URL.createObjectURL(e))},innerHTML:'Download story file\n      <span class="tooltiptext">Download the text of the story</span>'}),z=j("a",{id:"submit-btn",class:"tooltip navbtn",title:"Run"},null,{onclick:function(){var n=r("#if_r-input-area").value,a=r("#if_r-stats-editor").value;r("#instructDiv").style.display="none",r("#if_r-output-area").style.display="flex",r("#output-tablink").dispatchEvent(i),k(o,n),k(p,a);var s=e(n).parseStory();k("if_r-if-object",JSON.stringify(s)),t.loadStory(s,null,"choicescript-sepia")},innerHTML:'&#9654; Run <span class="tooltiptext">Play the story</span>'}),A=j("a",{id:"preview-btn",class:"download-btn tooltip navbtn"},null,{onclick:function(){if(Object.keys(t.run.story).length<=0)return"You haven't run a story yet.",(e=r("#alerts-area")).style.display="block",void(e.innerHTML="You haven't run a story yet.");var e;window.open("preview")},innerHTML:'&#128065 <span class="tooltiptext">Preview</span>'}),H=j("button",{id:"darkbtn",class:"setting"},{background:"rgb(50, 50, 50)",color:"white"},{onclick:function(e){I(w),e.target.style.display="none",r("#lightbtn").style.display="block"},innerHTML:"Dark Mode"}),$=j("button",{id:"lightbtn",class:"setting"},null,{onclick:function(e){I(v),e.target.style.display="none",r("#darkbtn").style.display="block"},innerHTML:"Light Mode"}),O=j("a",{id:"settings-btn",class:"tooltip navbtn"},null,{onclick:function(){y(f),function(e,t,n){var a=r("#modal");a.style.display="block";var s=r(".modal-content");s.innerHTML='<span class="modal-close">&times;</span><br>'.concat(null!=e?e:"");for(var o=arguments.length,i=new Array(o>3?o-3:0),l=3;l<o;l++)i[l-3]=arguments[l];i&&i.forEach((function(e){return s.appendChild(e)})),Object.keys(n).forEach((function(e){return s.style[e]=n[e]})),window.onclick=function(e){e.target===a&&(a.style.display="none")},r(".modal-close").onclick=function(){a.style.display="none"}}(null,null,{"font-family":"monospace"},j("div",null,null,{innerHTML:"<h2> Settings </h2>"}),j("h3",null,null,{innerHTML:"Scheme Preference"}),$,H,j("h3",null,null,{innerHTML:"Editor Alignment (Stub)"}),j("h3",null,null,{innerHTML:"Font Size (Stub)"}),j("h3",null,null,{innerHTML:"Font (Stub)"}))},innerHTML:'&#9881;<span class="tooltiptext">Setings</span>'}),B=j("a",{id:"read-btn",class:"right-align-top content-opts tooltip navbtn"},null,{onclick:function(){P("read")},innerHTML:'&leftarrow;<span class="tooltiptext">Read View</span>'}),q=j("a",{id:"write-btn",class:"right-align-top content-opts tooltip navbtn"},null,{onclick:function(){P("write")},innerHTML:'&rightarrow;<span class="tooltiptext">Write View</span>'}),D=j("a",{id:"balance-btn",class:"right-align-top content-opts tooltip navbtn"},null,{onclick:function(){P("balanced")},innerHTML:'&#8646;<span class="tooltiptext">Balanced View</span>'}),R=j("a",{id:"upbtn",class:"right-align-top content-opts tooltip navbtn"},null,{onclick:function(){S("compact")},innerHTML:'<span style="font-size: large;">&times;</span>\n      <span class="tooltiptext">Close Menubar</span>'}),N=j("a",{id:"logo",class:"topnav-btn",href:n.p||"/",title:"IF-Script logo; Reload this page"},null,null,[(T=j("img",{src:u,id:"logo-img"},{height:"50px",width:"50px"}),T.src=u,T)]),U=j("div",{class:"topnav"},null,null,[z,A,C,L,O,B,q,D,R,N]),V=j("textarea",{id:"if_r-input-area",class:"editor",contenteditable:"true",spellcheck:"false"}),G=j("textarea",{id:"if_r-stats-editor",class:"editor"});function W(e,t){var n,a,s;for(a=document.getElementsByClassName("tabcontent1"),n=0;n<a.length;n++)a[n].style.display="none";for(s=document.getElementsByClassName("tablinks1"),n=0;n<s.length;n++)s[n].className=s[n].className.replace(" active","");r(t).style.display="block",e.currentTarget.className+=" active",k(m,"#"+e.currentTarget.getAttribute("id"))}var Y=j("button",{class:"tablinks1 active",id:"story-tablink",title:"Story Editor"},null,{onclick:function(e){return W(e,"#Story")},innerHTML:"Story"}),K=j("button",{class:"tablinks1",id:"stats-tablink",title:"Stats Editor"},null,{onclick:function(e){return W(e,"#Stats")},innerHTML:"Stats"}),Z=j("div",{class:"tab"},null,null,[Y,K]),J=j("div",{id:"Story",class:"tabcontent1"},null,null,[V]),Q=j("div",{id:"Stats",class:"tabcontent1"},null,null,[G]);function X(e,t){var n,a,s;for(a=document.getElementsByClassName("tabcontent2"),n=0;n<a.length;n++)a[n].style.display="none";for(s=document.getElementsByClassName("tablinks2"),n=0;n<s.length;n++)s[n].className=s[n].className.replace(" active","");r(t).style.display="block",e.currentTarget.className+=" active",k(b,"#"+e.currentTarget.getAttribute("id"))}var ee,te=j("div",{id:"if_r-output-area"},{display:"none"}),ne=j("button",{class:"tablinks2",id:"help-tablink",title:"Documentation for IF-Script"},null,{onclick:function(e){return X(e,"#Help")},innerHTML:"Help"}),re=j("button",{class:"tablinks2",id:"tools-tablink",title:"Tools for editing the story"},null,{onclick:function(e){return X(e,"#Tools")},innerHTML:"Tools"}),ae=j("button",{class:"tablinks2",id:"output-tablink",title:"Preview your story"},null,{onclick:function(e){return X(e,"#Output")},innerHTML:"Output"}),se=j("div",{class:"tab"},null,null,[ne,re,ae]),oe=j("div",{id:"Help",class:"tabcontent2"},null,{innerHTML:'\n<div class="code" id="alerts-area"></div>\n\n<p class="plain-text tooltip symlink" data-target-button="#submit-btn">\nPress <span class="tooltiptext"> Top-left or <br> <code>Ctrl + click</code> </span> <span style="color:#abfd9d">&#9654; Run</span> to start a live preview of the story.\n</p>\n\n<p class="plain-text">\n    View/Fork\n        <a class="tooltip" href="https://github.com/PlytonRexus/if-script-core" target="_blank">\n            the core <span class="tooltiptext"> Parser + Renderer </span>\n        </a> or\n        <a class="tooltip" href="https://github.com/PlytonRexus/if-script" target="_blank">\n            the webapp <span class="tooltiptext"> This website (editors + preview tools)</span>\n        </a>\n    on GitHub.\n</p>\n\n<p class="plain-text">\nYou can use Markdown to format your story.\n<a href="https://www.markdownguide.org/cheat-sheet/" target="_blank" rel="noreferrer noopener"> Markdown cheat-sheet </a>\n</p>\n\n<h3 id="embed-scripts"><a href="#embed-scripts">Embedding</a></h3>\n<p class="plain-text">Within the head tag, add the following.</p>\n<div class="highlighted">\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/plytonrexus/if-script@v0.4-alpha/downloadable/if_r.css&quot;&gt;\n</div>\n\n<p class="plain-text">In your body, add the following scripts.</p>\n<div class="highlighted">\n    &lt;div id=&quot;if_r-output-area&quot;&gt;&lt;/div&gt;\n    <br/>\n    &lt;script src=&quot;Story.js&quot;&gt;&lt;/script&gt;\n    <br/>\n    &lt;script src=&quot;https://cdn.jsdelivr.net/gh/plytonrexus/if-script@v0.4-alpha/js/if_r-terp.js&quot;&gt;&lt;/script&gt;\n    <br/>\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/showdown@1.9.1/dist/showdown.min.js&quot;&gt;&lt;/script&gt;\n    <br/>\n    &lt;script&gt;\n        IF.methods.loadStory(IF.story);\n    &lt;/script&gt;\n\n</div>\n\n<p class="plain-text"><em>The indentation does not matter.</em></p>\n\n<h3 id="comment-syntax"><a href="#comment-syntax">Comments</a></h3>\n<p class="plain-text">\nA comment is a text block that is not integrated into the final model of the story.\nComments exist to help write cleaner stories.\nFor example, by pointing out purposes of certain portions of the story.\n<div class="code">\n/*\nA\n<br/>\nmulti-line\n<br/>\ncomment\n*/\n</div>\n\n<h3 id="variable-syntax"><a href="#variable-syntax">Variables</a></h3>\n<p class="plain-text">\nVariables truly create dynamic stories.\nYou can use variables to store a lot of things like character names,\ninventory items, visited scenes, number of things and many others.\nYou can then display the values of these variables anywhere like so:\n</p>\n\n<div class="code">\nYour name is ${name}.\n</div>\n\n<p class="plain-text">\nObviously, here, variable <code>name</code> was used to store the name of a character.\n<br/>\nThe variables can also be used in conditional logic to determine which <a href="#choice-syntax">choices</a>\nand (in a future release) what paragraphs of a <a href="#section-syntax">section\'s</a>\ntext should be visible to the reader.\nYou can find more about this under the <a href="#choice-syntax">choices</a> heading.\n<br/>\n\n<p class="plain-text">\nYou can assign variables beforehand inside story <a href="#settings-syntax">settings</a>.\n</p>\n\n<div class="code">\n${name=\'Felicity\'}\n</div>\n\n<em>It is recommended (albeit not required) to keep the </em>\n<code>title</code><em> variable set as the title of the story.</em>\n</p>\n\n<h3 id="settings-syntax"><a href="#settings-syntax">Story Settings</a></h3>\n<p class="plain-text">\nStory settings allow you to customise the overall experience of the story.\nAll of the settings are optional.\nThe available settings are:\n<ul>\n<li class="plain-text"><code>@startAt</code> decides the starting section of a story. (Default: 1)\n<li class="plain-text"><code>@referrable</code> decides if the older sections remain visible once the reader moves to a new section. (Default: false)\n<li class="plain-text"><code>@fullTimer</code> decides the amount of time alloted for completing a story. (Default: none)\n</ul>\n</p>\n<div class="code">\nsettings&gt;\n<br/>\n&nbsp;&nbsp;@startAt <section_number>\n<br/>\n&nbsp;&nbsp;@referrable <true/false>\n<br/>\n&nbsp;&nbsp;@fullTimer\n<br/>\n&lt;settings\n</div>\n\n<h3 id="scene-syntax"><a href="#scene-syntax">Scenes</a></h3>\n<p class="plain-text">\nScenes are collections of <a href="#scene-syntax">sections</a>\n<div class="code">\n    scene&gt;\n    <br/>\n    &nbsp;&nbsp;@first section_number (optional)\n    <br/>\n    &nbsp;&nbsp;@music link (optional)\n    <br/>\n    &nbsp;&nbsp;@sections space_seperated_section_numbers\n    <br/>\n    &nbsp;&nbsp;@name custom_name_for_scene\n    <br/>\n    &lt;scene\n</div>\n\n<h3 id="section-syntax"><a href="#section-syntax">Sections</a></h3>\n<p class="plain-text">\n    Sections are independent locations/situations in a story.\n    These can be reached through <a href="#choice-syntax">choices</a>.\n    Each section can have its own set of settings that allow it to have separate timers\n    that send the reader to a separate section if they do not choose within specified time,\n    and its own music. These features are particularly helpful in dramatic situations.\n</p>\n<div class="code">\n    ss&gt;\n    <br/>\n    &nbsp;&nbsp;tt&gt; Section Title &lt;tt\n    <br/>\n    &nbsp;&nbsp;Section text.\n    <br/>\n    &nbsp;&nbsp;In paragraphs.\n    <br/>\n    &nbsp;&nbsp;You can use variables here.\n    <br/>\n    &nbsp;&nbsp;/*\n    <br/>\n    &nbsp;&nbsp;&nbsp;&nbsp;You can write choices about now.\n    <br/>\n    &nbsp;&nbsp;&nbsp;&nbsp;Read on to find out how to create them.\n    <br/>\n    &nbsp;&nbsp;*/\n    <br/>\n    &lt;ss\n</div>\n\n<h3 id="choice-syntax"><a href="#choice-syntax">Choices</a></h3>\n<p class="plain-text">\n    Choice are the sole method to navigate a story by reaching\n    <a href="#section-syntax">sections</a> or <a href="#scene-syntax">scenes</a>.\n    To send to a section:\n</p>\n<div class="code">\n    ch&gt;\n    <br/>\n    &nbsp;&nbsp;You are named five [[5]]\n    <br/>\n    &lt;ch\n</div>\n\n<p class="plain-text">\nTo send to the beginning of a scene:\n</p>\n<div class="code">\n    ch&gt;\n    <br/>\n    &nbsp;&nbsp;You are named five [[scene:5]]\n    <br/>\n    &lt;ch\n</div>\n\n<p class="plain-text">\nChoices can assign variables.\n</p>\n\n<div class="code">\n    ch&gt;\n    <br/>\n    &nbsp;&nbsp;Choose \'Felicity\' as your name ${__name} [[5]]\n    <br/>\n    &lt;ch\n</div>\n\n<p class="plain-text">\nChoices can also have input boxes. These input boxes can be used to\ntake in custom values from the user and then stored in variables for\nlater use.\n</p>\n\n<div class="code">\n    ch&gt;\n    <br/>\n    &nbsp;&nbsp;Type in your name here: __input ${__name} [[5]]\n    <br/>\n    &lt;ch\n</div>\n\n<p class="plain-text">\nChoices can have conditions. Only if these conditions are met is the choice displayed.\nAvailable operators are:\n<ul>\n    <li class="plain-text"> <code> var1 == var2</code> &nbsp; Both are equal\n    <li class="plain-text"> <code> var1 != var2</code> &nbsp; Both are inequal\n    <li class="plain-text"> <code> var1 >= var2</code> &nbsp; First is greater than or equal to second\n    <li class="plain-text"> <code> var1 <= var2</code> &nbsp; Second is greater than or equal to first\n    <li class="plain-text"> <code> var1 >&nbsp; var2</code> &nbsp; First is greater than second\n    <li class="plain-text"> <code> var1 <&nbsp; var2</code> &nbsp; Second is greater than first\n</ul>\n</p>\n\n<div class="code">\n    ch&gt;\n    <br/>\n    &nbsp;&nbsp;${__if name == "" || namePower <= 0}\n    <br/>\n    &nbsp;&nbsp;&nbsp;&nbsp;Type in your name here __input ${__name} [[5]]\n    <br/>\n    &lt;ch\n</div>\n\n<p class="plain-text">\nChoices can also do actions like\n</p>\n<ul>\n    <li class="plain-text"> <code>${__var1 = var2}</code> &nbsp; Assignment\n    <li class="plain-text"> <code>${__var1 + var2}</code> &nbsp; Addition\n    <li class="plain-text"> <code>${__var1 - var2}</code> &nbsp; Subtraction\n    <li class="plain-text"> <code>${__var1 * var2}</code> &nbsp; Multiplication\n    <li class="plain-text"> <code>${__var1 / var2}</code> &nbsp; Division\n</ul>\n<p class="plain-text">\nIn each of these, the first variable is assigned values that result from the operation.\n</p>\n\n<div class="code">\n    ch&gt;\n    <br/>\n    &nbsp;&nbsp;The power of your name goes up 10 units and your health\n    is multiplied ${namePower} times.\n    <br/>\n    &nbsp;&nbsp;${__namePower + 10} ${__health * namePower} [[5]]\n    <br/>\n    &lt;ch\n</div>\n'}),ie=j("button",{class:"tool-btn"},null,{innerHTML:"Add Section",onclick:function(e){x(r("#if_r-input-area"),"\n  ss>\n    secset>\n      @timer 10000\n      @music link\n    <secset\n\n    tt> Untitled Section <tt\n\n    Content\n\n    ch> A choice [[1]] <ch\n    ch> Another choice [[2]] <ch\n  <ss")}}),le=j("button",{class:"tool-btn"},null,{innerHTML:"Add Scene",onclick:function(e){x(r("#if_r-input-area"),"\n  scene>\n    @first section_number\n    @music link\n    @sections space_seperated_section_numbers\n    @name custom_name_for_scene\n  <scene")}}),ce=j("button",{class:"tool-btn"},null,{innerHTML:"Add Choice",onclick:function(e){x(r("#if_r-input-area"),'\n  ch> ${__if name == "" || namePower <= 0} Type in your name here __input ${__name} [[5]] <ch')}}),ue=j("button",{class:"tool-btn"},null,{innerHTML:"Add Comment",onclick:function(e){x(r("#if_r-input-area"),"\n  /* A\n  multi-line\n  comment */")}}),de=j("div",{id:"Tools",class:"tabcontent2"},null,null,[ie,le,ce,ue]),he=j("div",{id:"instructDiv"},{margin:"auto","text-align":"center"},{innerHTML:"<p class='plain-text'>Click Run to start playing!</p>"}),pe=j("div",{id:"Output",class:"tabcontent2"},null,null,[he,te]),fe=j("div",{class:"main-div",id:"editor-div"},{left:"0"},null,[Z,J,Q]),ge=j("div",{class:"main-div",id:"output-div"},{right:"0"},null,[se,oe,de,pe]),_e=j("div",{id:"main"},null,null,[fe,ge]);function me(e){var n=t.run.story.name?t.run.state.name:null;k(o,e),document.title="Story Saved.",setTimeout((function(){document.title=null!=n?n:"IF"}),1500)}function be(e){var n=t.run.story.name?t.run.story.name:null;k(p,e),document.title="Stats Saved.",setTimeout((function(){document.title=null!=n?n:"IF"}),1500)}s.appendChild(E),s.appendChild(M),s.appendChild(U),s.appendChild(_e),r(y(b)||"#help-tablink").dispatchEvent(i),r(y(m)||"#story-tablink").dispatchEvent(i),r("#if_r-input-area").value=y(o)||d,r("#if_r-stats-editor").value=y(p)||"\n/*\nThis is a stub. Will get to this as soon as possible!\n*/",a(".highlighted").forEach((function(e){return function(e,t){var n="html",r="string"==typeof e?document.getElementById(e):e,a=r.innerHTML;function s(e,t,n,r,a){for(var s,o,i="",l=[];e.search(t)>-1;)s=e.search(t),-1==(o=e.indexOf(n,s))&&(o=e.length),a?(l.push(r(e.substring(s,o+n.length))),e=e.substring(0,s)+a+e.substr(o+n.length)):(i+=e.substring(0,s),i+=r(e.substring(s,o+n.length)),e=e.substr(o+n.length));this.rest=i+e,this.arr=l}function o(e){for(var t,n,r,a=e,s="";a.search(/(\s|<br>)/)>-1;)t=a.search(/(\s|<br>)/),-1==(n=a.indexOf("&gt;"))&&(n=a.length),s+=a.substring(0,t),s+=i(a.substring(t,n)),a=a.substr(n);return"&gt;"==(r="<span style=color:#444>&lt;</span>"+(r=s+a).substring(4)).substr(r.length-4,4)&&(r=r.substring(0,r.length-4)+"<span style=color:#444>&gt;</span>"),"<span style=color:mediumblue>"+r+"</span>"}function i(e){for(var t,n,r,a,s,o=e,i="";o.indexOf("=")>-1;)n=-1,t=o.indexOf("="),r=o.indexOf("'",t),a=o.indexOf('"',t),(s=o.indexOf(" ",t+2))>-1&&(s<r||-1==r)&&(s<a||-1==a)?n=o.indexOf(" ",t):a>-1&&(a<r||-1==r)&&(a<s||-1==s)?n=o.indexOf('"',o.indexOf('"',t)+1):r>-1&&(r<a||-1==a)&&(r<s||-1==s)&&(n=o.indexOf("'",o.indexOf("'",t)+1)),(!n||-1==n||n<t)&&(n=o.length),i+=o.substring(0,t),i+=l(o.substring(t,n+1)),o=o.substr(n+1);return"<span style=color:#3b8708>"+i+o+"</span>"}function l(e){return"<span style=color:brown>"+e+"</span>"}function c(e){return"<span style=color:green>"+e+"</span>"}function u(e){var t,n,r,a,o,i,l,u=e,h="";for(u=(r=new s(u,/\/\*/,"*/",c,"W3CSSCOMMENTPOS")).rest;u.search("{")>-1;){for(t=u.search("{"),o=u.substr(t+1),l=1,i=0,a=0;a<o.length&&("{"==o.substr(a,1)&&(l++,i++),"}"==o.substr(a,1)&&l--,0!=l);a++);for(0!=l&&(i=0),n=t,a=0;a<=i;a++)n=u.indexOf("}",n+1);-1==n&&(n=u.length),h+=u.substring(0,t+1),h+=d(u.substring(t+1,n)),u=u.substr(n)}for(u=(u=(u=h+u).replace(/{/g,"<span style=color:black>{</span>")).replace(/}/g,"<span style=color:black>}</span>"),a=0;a<r.arr.length;a++)u=u.replace("W3CSSCOMMENTPOS",r.arr[a]);return"<span style=color:brown>"+u+"</span>"}function d(e){var t,n,r,a,s=e,o="";if(s.indexOf("{")>-1)return u(s);for(;s.search(":")>-1;){for(a=!0,r=t=s.search(":");1==a;)a=!1,n=s.indexOf(";",r),"&nbsp;"==s.substring(n-5,n+1)&&(a=!0,r=n+1);-1==n&&(n=s.length),o+=s.substring(0,t),o+=h(s.substring(t,n+1)),s=s.substr(n+1)}return"<span style=color:red>"+o+s+"</span>"}function h(e){var t,n=e,r="";for(n="<span style=color:black>:</span>"+n.substring(1);n.search(/!important/i)>-1;)t=n.search(/!important/i),r+=n.substring(0,t),r+=p(n.substring(t,t+10)),n=n.substr(t+10);return result=r+n,";"==result.substr(result.length-1,1)&&"&nbsp;"!=result.substr(result.length-6,6)&&"&lt;"!=result.substr(result.length-4,4)&&"&gt;"!=result.substr(result.length-4,4)&&"&amp;"!=result.substr(result.length-5,5)&&(result=result.substring(0,result.length-1)+"<span style=color:black>;</span>"),"<span style=color:mediumblue>"+result+"</span>"}function p(e){return"<span style=color:red;font-weight:bold;>"+e+"</span>"}function f(e){var t,n,r,a,s,o,i,l,u,d,h=e,p="",f=[],S="";for(t=0;t<h.length;t++)"\\"==(n=h.substr(t,1))&&(f.push(h.substr(t,2)),n="W3JSESCAPE",t++),S+=n;for(h=S;r=k(h,"'","'",g),a=k(h,'"','"',g),s=k(h,/\/\*/,"*/",c),o=k(h,/\/\//,"<br>",c),l=x(h,m),i=y("js",h,_),d=w(h,b),-1!=Math.max(l[0],r[0],a[0],s[0],o[0],i[0],d[0])&&-1!=(u=v(l,r,a,s,o,i,d))[0];)u[0]>-1&&(p+=h.substring(0,u[0]),p+=u[2](h.substring(u[0],u[1])),h=h.substr(u[1]));for(h=p+h,t=0;t<f.length;t++)h=h.replace("W3JSESCAPE",f[t]);return"<span style=color:black>"+h+"</span>"}function g(e){return"<span style=color:brown>"+e+"</span>"}function _(e){return"<span style=color:mediumblue>"+e+"</span>"}function m(e){return"<span style=color:red>"+e+"</span>"}function b(e){return"<span style=color:black>"+e+"</span>"}function w(e,t){var n,r,a,s,o,i=[".","<"," ",";","(","+",")","[","]",",","&",":","{","}","../index.html","-","*","|","%"];if((s=e.indexOf("."))>-1)for(n=e.substr(s+1),a=0;a<n.length;a++)for(o=n[a],r=0;r<i.length;r++)if(o.indexOf(i[r])>-1)return[s+1,a+s+1,t];return[-1,-1,t]}function v(){var e,t=[];for(e=0;e<arguments.length;e++)arguments[e][0]>-1&&(0==t.length||arguments[e][0]<t[0])&&(t=arguments[e]);return 0==t.length&&(t=arguments[e]),t}function y(e,t,n){var r,a,s,o,i=-1,l=-1;for("js"==e&&(r=["abstract","arguments","boolean","break","byte","case","catch","char","class","const","continue","debugger","default","delete","do","double","else","enum","eval","export","extends","false","final","finally","float","for","function","goto","if","implements","import","in","instanceof","int","interface","let","long","NaN","native","new","null","package","private","protected","public","return","short","static","super","switch","synchronized","this","throw","throws","transient","true","try","typeof","var","void","volatile","while","with","yield"]),a=0;a<r.length;a++)(s=t.indexOf(r[a]))>-1&&(o=/\W/g,t.substr(s+r[a].length,1).match(o)&&t.substr(s-1,1).match(o)&&s>-1&&(-1==i||s<i)&&(l=(i=s)+r[a].length));return[i,l,n]}function k(e,t,n,r){var a,s;return a=e.search(t),-1==(s=e.indexOf(n,a+n.length))&&(s=e.length),[a,s+n.length,r]}function x(e,t){var n,r,a,s,o,i=["<br>"," ",";","(","+",")","[","]",",","&",":","{","}","../index.html","-","*","|","%","="],l=0;for(n=0;n<e.length;n++)for(r=0;r<i.length;r++)if((a=e.substr(n,i[r].length))==i[r]){if("-"==a&&("e"==e.substr(n-1,1)||"E"==e.substr(n-1,1)))continue;if(l<(s=n)&&(o=e.substring(l,s),!isNaN(o)))return[l,s,t];l=n+=i[r].length,n-=1;break}return[-1,-1,t]}r.style.fontFamily="monospace",n||(n="html"),"html"==n&&(a=function(e){var t,n,r,a,i,l=e,d="";for(l=(t=new s(l,"&lt;!--","--&gt;",c,"W3HTMLCOMMENTPOS")).rest;l.indexOf("&lt;")>-1;)a="",n=l.indexOf("&lt;"),"&LT;STYLE"==l.substr(n,9).toUpperCase()&&(a="css"),"&LT;SCRIPT"==l.substr(n,10).toUpperCase()&&(a="javascript"),-1==(r=l.indexOf("&gt;",n))&&(r=l.length),d+=l.substring(0,n),d+=o(l.substring(n,r+4)),l=l.substr(r+4),"css"==a&&(r=l.indexOf("&lt;/style&gt;"))>-1&&(d+=u(l.substring(0,r)),l=l.substr(r)),"javascript"==a&&(r=l.indexOf("&lt;/script&gt;"))>-1&&(d+=f(l.substring(0,r)),l=l.substr(r));for(l=d+l,i=0;i<t.arr.length;i++)l=l.replace("W3HTMLCOMMENTPOS",t.arr[i]);return l}(a)),"css"==n&&(a=u(a)),"js"==n&&(a=f(a)),r.innerHTML=a}(e)})),y(f)?I(y(f)):I(v),y(g)&&S(y(g)),y(_)&&P(y(_)),window.onkeydown=function(e){c.includes(e.key)||c.push(e.key),e.ctrlKey&&!c.includes(l[0][1])&&c.push("Control"),2===c.length&&c.includes(l[0][0])&&e.ctrlKey&&(e.preventDefault(),me(r("#if_r-input-area").value),be(r("#if_r-stats-editor").value),document.title="Saved all edits",setTimeout((function(){var e;document.title=null!==(e=story_title)&&void 0!==e?e:"IF"}),1500))},window.onkeyup=function(e){var t;t=e.ctrlKey?c.findIndex((function(e){return"Control"===e})):c.findIndex((function(t){return t===e.key})),c.splice(t,1)},a(".symlink").forEach((function(e){return e.addEventListener("click",F)})),r("#if_r-input-area").addEventListener("keyup",(function(e){ee&&clearTimeout(ee),ee=setTimeout((function(){me(e.target.value)}),750)})),r("#if_r-stats-editor").addEventListener("keyup",(function(e){ee=setTimeout((function(){be(e.target.value)}),750)}))})).catch((function(e){return console.log(e)}))},132:function(e,t,n){var r;(function(){function a(e){"use strict";var t={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:"Remove only spaces, ' and \" from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids",type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,description:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,description:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,description:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,description:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,description:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",description:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,description:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,description:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,description:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,description:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,description:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},completeHTMLDocument:{defaultValue:!1,description:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,description:"Enable support for document metadata (defined at the top of the document between `«««` and `»»»` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,description:"Split adjacent blockquote blocks",type:"boolean"}};if(!1===e)return JSON.parse(JSON.stringify(t));var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r].defaultValue);return n}var s={},o={},i={},l=a(!0),c="vanilla",u={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:a(!0),allOn:function(){"use strict";var e=a(!0),t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=!0);return t}()};function d(e,t){"use strict";var n=t?"Error in "+t+" extension->":"Error in unnamed extension",r={valid:!0,error:""};s.helper.isArray(e)||(e=[e]);for(var a=0;a<e.length;++a){var o=n+" sub-extension "+a+": ",i=e[a];if("object"!=typeof i)return r.valid=!1,r.error=o+"must be an object, but "+typeof i+" given",r;if(!s.helper.isString(i.type))return r.valid=!1,r.error=o+'property "type" must be a string, but '+typeof i.type+" given",r;var l=i.type=i.type.toLowerCase();if("language"===l&&(l=i.type="lang"),"html"===l&&(l=i.type="output"),"lang"!==l&&"output"!==l&&"listener"!==l)return r.valid=!1,r.error=o+"type "+l+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',r;if("listener"===l){if(s.helper.isUndefined(i.listeners))return r.valid=!1,r.error=o+'. Extensions of type "listener" must have a property called "listeners"',r}else if(s.helper.isUndefined(i.filter)&&s.helper.isUndefined(i.regex))return r.valid=!1,r.error=o+l+' extensions must define either a "regex" property or a "filter" method',r;if(i.listeners){if("object"!=typeof i.listeners)return r.valid=!1,r.error=o+'"listeners" property must be an object but '+typeof i.listeners+" given",r;for(var c in i.listeners)if(i.listeners.hasOwnProperty(c)&&"function"!=typeof i.listeners[c])return r.valid=!1,r.error=o+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+c+" must be a function but "+typeof i.listeners[c]+" given",r}if(i.filter){if("function"!=typeof i.filter)return r.valid=!1,r.error=o+'"filter" must be a function, but '+typeof i.filter+" given",r}else if(i.regex){if(s.helper.isString(i.regex)&&(i.regex=new RegExp(i.regex,"g")),!(i.regex instanceof RegExp))return r.valid=!1,r.error=o+'"regex" property must either be a string or a RegExp object, but '+typeof i.regex+" given",r;if(s.helper.isUndefined(i.replace))return r.valid=!1,r.error=o+'"regex" extensions must implement a replace string or function',r}}return r}function h(e,t){"use strict";return"¨E"+t.charCodeAt(0)+"E"}s.helper={},s.extensions={},s.setOption=function(e,t){"use strict";return l[e]=t,this},s.getOption=function(e){"use strict";return l[e]},s.getOptions=function(){"use strict";return l},s.resetOptions=function(){"use strict";l=a(!0)},s.setFlavor=function(e){"use strict";if(!u.hasOwnProperty(e))throw Error(e+" flavor was not found");s.resetOptions();var t=u[e];for(var n in c=e,t)t.hasOwnProperty(n)&&(l[n]=t[n])},s.getFlavor=function(){"use strict";return c},s.getFlavorOptions=function(e){"use strict";if(u.hasOwnProperty(e))return u[e]},s.getDefaultOptions=function(e){"use strict";return a(e)},s.subParser=function(e,t){"use strict";if(s.helper.isString(e)){if(void 0===t){if(o.hasOwnProperty(e))return o[e];throw Error("SubParser named "+e+" not registered!")}o[e]=t}},s.extension=function(e,t){"use strict";if(!s.helper.isString(e))throw Error("Extension 'name' must be a string");if(e=s.helper.stdExtName(e),s.helper.isUndefined(t)){if(!i.hasOwnProperty(e))throw Error("Extension named "+e+" is not registered!");return i[e]}"function"==typeof t&&(t=t()),s.helper.isArray(t)||(t=[t]);var n=d(t,e);if(!n.valid)throw Error(n.error);i[e]=t},s.getAllExtensions=function(){"use strict";return i},s.removeExtension=function(e){"use strict";delete i[e]},s.resetExtensions=function(){"use strict";i={}},s.validateExtension=function(e){"use strict";var t=d(e,null);return!!t.valid||(console.warn(t.error),!1)},s.hasOwnProperty("helper")||(s.helper={}),s.helper.isString=function(e){"use strict";return"string"==typeof e||e instanceof String},s.helper.isFunction=function(e){"use strict";return e&&"[object Function]"==={}.toString.call(e)},s.helper.isArray=function(e){"use strict";return Array.isArray(e)},s.helper.isUndefined=function(e){"use strict";return void 0===e},s.helper.forEach=function(e,t){"use strict";if(s.helper.isUndefined(e))throw new Error("obj param is required");if(s.helper.isUndefined(t))throw new Error("callback param is required");if(!s.helper.isFunction(t))throw new Error("callback param must be a function/closure");if("function"==typeof e.forEach)e.forEach(t);else if(s.helper.isArray(e))for(var n=0;n<e.length;n++)t(e[n],n,e);else{if("object"!=typeof e)throw new Error("obj does not seem to be an array or an iterable object");for(var r in e)e.hasOwnProperty(r)&&t(e[r],r,e)}},s.helper.stdExtName=function(e){"use strict";return e.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()},s.helper.escapeCharactersCallback=h,s.helper.escapeCharacters=function(e,t,n){"use strict";var r="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(r="\\\\"+r);var a=new RegExp(r,"g");return e.replace(a,h)},s.helper.unescapeHTMLEntities=function(e){"use strict";return e.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var p=function(e,t,n,r){"use strict";var a,s,o,i,l,c=r||"",u=c.indexOf("g")>-1,d=new RegExp(t+"|"+n,"g"+c.replace(/g/g,"")),h=new RegExp(t,c.replace(/g/g,"")),p=[];do{for(a=0;o=d.exec(e);)if(h.test(o[0]))a++||(i=(s=d.lastIndex)-o[0].length);else if(a&&!--a){l=o.index+o[0].length;var f={left:{start:i,end:s},match:{start:s,end:o.index},right:{start:o.index,end:l},wholeMatch:{start:i,end:l}};if(p.push(f),!u)return p}}while(a&&(d.lastIndex=s));return p};s.helper.matchRecursiveRegExp=function(e,t,n,r){"use strict";for(var a=p(e,t,n,r),s=[],o=0;o<a.length;++o)s.push([e.slice(a[o].wholeMatch.start,a[o].wholeMatch.end),e.slice(a[o].match.start,a[o].match.end),e.slice(a[o].left.start,a[o].left.end),e.slice(a[o].right.start,a[o].right.end)]);return s},s.helper.replaceRecursiveRegExp=function(e,t,n,r,a){"use strict";if(!s.helper.isFunction(t)){var o=t;t=function(){return o}}var i=p(e,n,r,a),l=e,c=i.length;if(c>0){var u=[];0!==i[0].wholeMatch.start&&u.push(e.slice(0,i[0].wholeMatch.start));for(var d=0;d<c;++d)u.push(t(e.slice(i[d].wholeMatch.start,i[d].wholeMatch.end),e.slice(i[d].match.start,i[d].match.end),e.slice(i[d].left.start,i[d].left.end),e.slice(i[d].right.start,i[d].right.end))),d<c-1&&u.push(e.slice(i[d].wholeMatch.end,i[d+1].wholeMatch.start));i[c-1].wholeMatch.end<e.length&&u.push(e.slice(i[c-1].wholeMatch.end)),l=u.join("")}return l},s.helper.regexIndexOf=function(e,t,n){"use strict";if(!s.helper.isString(e))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(t instanceof RegExp==0)throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var r=e.substring(n||0).search(t);return r>=0?r+(n||0):r},s.helper.splitAtIndex=function(e,t){"use strict";if(!s.helper.isString(e))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[e.substring(0,t),e.substring(t)]},s.helper.encodeEmailAddress=function(e){"use strict";var t=[function(e){return"&#"+e.charCodeAt(0)+";"},function(e){return"&#x"+e.charCodeAt(0).toString(16)+";"},function(e){return e}];return e.replace(/./g,(function(e){if("@"===e)e=t[Math.floor(2*Math.random())](e);else{var n=Math.random();e=n>.9?t[2](e):n>.45?t[1](e):t[0](e)}return e}))},s.helper.padEnd=function(e,t,n){"use strict";return t>>=0,n=String(n||" "),e.length>t?String(e):((t-=e.length)>n.length&&(n+=n.repeat(t/n.length)),String(e)+n.slice(0,t))},"undefined"==typeof console&&(console={warn:function(e){"use strict";alert(e)},log:function(e){"use strict";alert(e)},error:function(e){"use strict";throw e}}),s.helper.regexes={asteriskDashAndColon:/([*_:~])/g},s.helper.emojis={"+1":"👍","-1":"👎",100:"💯",1234:"🔢","1st_place_medal":"🥇","2nd_place_medal":"🥈","3rd_place_medal":"🥉","8ball":"🎱",a:"🅰️",ab:"🆎",abc:"🔤",abcd:"🔡",accept:"🉑",aerial_tramway:"🚡",airplane:"✈️",alarm_clock:"⏰",alembic:"⚗️",alien:"👽",ambulance:"🚑",amphora:"🏺",anchor:"⚓️",angel:"👼",anger:"💢",angry:"😠",anguished:"😧",ant:"🐜",apple:"🍎",aquarius:"♒️",aries:"♈️",arrow_backward:"◀️",arrow_double_down:"⏬",arrow_double_up:"⏫",arrow_down:"⬇️",arrow_down_small:"🔽",arrow_forward:"▶️",arrow_heading_down:"⤵️",arrow_heading_up:"⤴️",arrow_left:"⬅️",arrow_lower_left:"↙️",arrow_lower_right:"↘️",arrow_right:"➡️",arrow_right_hook:"↪️",arrow_up:"⬆️",arrow_up_down:"↕️",arrow_up_small:"🔼",arrow_upper_left:"↖️",arrow_upper_right:"↗️",arrows_clockwise:"🔃",arrows_counterclockwise:"🔄",art:"🎨",articulated_lorry:"🚛",artificial_satellite:"🛰",astonished:"😲",athletic_shoe:"👟",atm:"🏧",atom_symbol:"⚛️",avocado:"🥑",b:"🅱️",baby:"👶",baby_bottle:"🍼",baby_chick:"🐤",baby_symbol:"🚼",back:"🔙",bacon:"🥓",badminton:"🏸",baggage_claim:"🛄",baguette_bread:"🥖",balance_scale:"⚖️",balloon:"🎈",ballot_box:"🗳",ballot_box_with_check:"☑️",bamboo:"🎍",banana:"🍌",bangbang:"‼️",bank:"🏦",bar_chart:"📊",barber:"💈",baseball:"⚾️",basketball:"🏀",basketball_man:"⛹️",basketball_woman:"⛹️&zwj;♀️",bat:"🦇",bath:"🛀",bathtub:"🛁",battery:"🔋",beach_umbrella:"🏖",bear:"🐻",bed:"🛏",bee:"🐝",beer:"🍺",beers:"🍻",beetle:"🐞",beginner:"🔰",bell:"🔔",bellhop_bell:"🛎",bento:"🍱",biking_man:"🚴",bike:"🚲",biking_woman:"🚴&zwj;♀️",bikini:"👙",biohazard:"☣️",bird:"🐦",birthday:"🎂",black_circle:"⚫️",black_flag:"🏴",black_heart:"🖤",black_joker:"🃏",black_large_square:"⬛️",black_medium_small_square:"◾️",black_medium_square:"◼️",black_nib:"✒️",black_small_square:"▪️",black_square_button:"🔲",blonde_man:"👱",blonde_woman:"👱&zwj;♀️",blossom:"🌼",blowfish:"🐡",blue_book:"📘",blue_car:"🚙",blue_heart:"💙",blush:"😊",boar:"🐗",boat:"⛵️",bomb:"💣",book:"📖",bookmark:"🔖",bookmark_tabs:"📑",books:"📚",boom:"💥",boot:"👢",bouquet:"💐",bowing_man:"🙇",bow_and_arrow:"🏹",bowing_woman:"🙇&zwj;♀️",bowling:"🎳",boxing_glove:"🥊",boy:"👦",bread:"🍞",bride_with_veil:"👰",bridge_at_night:"🌉",briefcase:"💼",broken_heart:"💔",bug:"🐛",building_construction:"🏗",bulb:"💡",bullettrain_front:"🚅",bullettrain_side:"🚄",burrito:"🌯",bus:"🚌",business_suit_levitating:"🕴",busstop:"🚏",bust_in_silhouette:"👤",busts_in_silhouette:"👥",butterfly:"🦋",cactus:"🌵",cake:"🍰",calendar:"📆",call_me_hand:"🤙",calling:"📲",camel:"🐫",camera:"📷",camera_flash:"📸",camping:"🏕",cancer:"♋️",candle:"🕯",candy:"🍬",canoe:"🛶",capital_abcd:"🔠",capricorn:"♑️",car:"🚗",card_file_box:"🗃",card_index:"📇",card_index_dividers:"🗂",carousel_horse:"🎠",carrot:"🥕",cat:"🐱",cat2:"🐈",cd:"💿",chains:"⛓",champagne:"🍾",chart:"💹",chart_with_downwards_trend:"📉",chart_with_upwards_trend:"📈",checkered_flag:"🏁",cheese:"🧀",cherries:"🍒",cherry_blossom:"🌸",chestnut:"🌰",chicken:"🐔",children_crossing:"🚸",chipmunk:"🐿",chocolate_bar:"🍫",christmas_tree:"🎄",church:"⛪️",cinema:"🎦",circus_tent:"🎪",city_sunrise:"🌇",city_sunset:"🌆",cityscape:"🏙",cl:"🆑",clamp:"🗜",clap:"👏",clapper:"🎬",classical_building:"🏛",clinking_glasses:"🥂",clipboard:"📋",clock1:"🕐",clock10:"🕙",clock1030:"🕥",clock11:"🕚",clock1130:"🕦",clock12:"🕛",clock1230:"🕧",clock130:"🕜",clock2:"🕑",clock230:"🕝",clock3:"🕒",clock330:"🕞",clock4:"🕓",clock430:"🕟",clock5:"🕔",clock530:"🕠",clock6:"🕕",clock630:"🕡",clock7:"🕖",clock730:"🕢",clock8:"🕗",clock830:"🕣",clock9:"🕘",clock930:"🕤",closed_book:"📕",closed_lock_with_key:"🔐",closed_umbrella:"🌂",cloud:"☁️",cloud_with_lightning:"🌩",cloud_with_lightning_and_rain:"⛈",cloud_with_rain:"🌧",cloud_with_snow:"🌨",clown_face:"🤡",clubs:"♣️",cocktail:"🍸",coffee:"☕️",coffin:"⚰️",cold_sweat:"😰",comet:"☄️",computer:"💻",computer_mouse:"🖱",confetti_ball:"🎊",confounded:"😖",confused:"😕",congratulations:"㊗️",construction:"🚧",construction_worker_man:"👷",construction_worker_woman:"👷&zwj;♀️",control_knobs:"🎛",convenience_store:"🏪",cookie:"🍪",cool:"🆒",policeman:"👮",copyright:"©️",corn:"🌽",couch_and_lamp:"🛋",couple:"👫",couple_with_heart_woman_man:"💑",couple_with_heart_man_man:"👨&zwj;❤️&zwj;👨",couple_with_heart_woman_woman:"👩&zwj;❤️&zwj;👩",couplekiss_man_man:"👨&zwj;❤️&zwj;💋&zwj;👨",couplekiss_man_woman:"💏",couplekiss_woman_woman:"👩&zwj;❤️&zwj;💋&zwj;👩",cow:"🐮",cow2:"🐄",cowboy_hat_face:"🤠",crab:"🦀",crayon:"🖍",credit_card:"💳",crescent_moon:"🌙",cricket:"🏏",crocodile:"🐊",croissant:"🥐",crossed_fingers:"🤞",crossed_flags:"🎌",crossed_swords:"⚔️",crown:"👑",cry:"😢",crying_cat_face:"😿",crystal_ball:"🔮",cucumber:"🥒",cupid:"💘",curly_loop:"➰",currency_exchange:"💱",curry:"🍛",custard:"🍮",customs:"🛃",cyclone:"🌀",dagger:"🗡",dancer:"💃",dancing_women:"👯",dancing_men:"👯&zwj;♂️",dango:"🍡",dark_sunglasses:"🕶",dart:"🎯",dash:"💨",date:"📅",deciduous_tree:"🌳",deer:"🦌",department_store:"🏬",derelict_house:"🏚",desert:"🏜",desert_island:"🏝",desktop_computer:"🖥",male_detective:"🕵️",diamond_shape_with_a_dot_inside:"💠",diamonds:"♦️",disappointed:"😞",disappointed_relieved:"😥",dizzy:"💫",dizzy_face:"😵",do_not_litter:"🚯",dog:"🐶",dog2:"🐕",dollar:"💵",dolls:"🎎",dolphin:"🐬",door:"🚪",doughnut:"🍩",dove:"🕊",dragon:"🐉",dragon_face:"🐲",dress:"👗",dromedary_camel:"🐪",drooling_face:"🤤",droplet:"💧",drum:"🥁",duck:"🦆",dvd:"📀","e-mail":"📧",eagle:"🦅",ear:"👂",ear_of_rice:"🌾",earth_africa:"🌍",earth_americas:"🌎",earth_asia:"🌏",egg:"🥚",eggplant:"🍆",eight_pointed_black_star:"✴️",eight_spoked_asterisk:"✳️",electric_plug:"🔌",elephant:"🐘",email:"✉️",end:"🔚",envelope_with_arrow:"📩",euro:"💶",european_castle:"🏰",european_post_office:"🏤",evergreen_tree:"🌲",exclamation:"❗️",expressionless:"😑",eye:"👁",eye_speech_bubble:"👁&zwj;🗨",eyeglasses:"👓",eyes:"👀",face_with_head_bandage:"🤕",face_with_thermometer:"🤒",fist_oncoming:"👊",factory:"🏭",fallen_leaf:"🍂",family_man_woman_boy:"👪",family_man_boy:"👨&zwj;👦",family_man_boy_boy:"👨&zwj;👦&zwj;👦",family_man_girl:"👨&zwj;👧",family_man_girl_boy:"👨&zwj;👧&zwj;👦",family_man_girl_girl:"👨&zwj;👧&zwj;👧",family_man_man_boy:"👨&zwj;👨&zwj;👦",family_man_man_boy_boy:"👨&zwj;👨&zwj;👦&zwj;👦",family_man_man_girl:"👨&zwj;👨&zwj;👧",family_man_man_girl_boy:"👨&zwj;👨&zwj;👧&zwj;👦",family_man_man_girl_girl:"👨&zwj;👨&zwj;👧&zwj;👧",family_man_woman_boy_boy:"👨&zwj;👩&zwj;👦&zwj;👦",family_man_woman_girl:"👨&zwj;👩&zwj;👧",family_man_woman_girl_boy:"👨&zwj;👩&zwj;👧&zwj;👦",family_man_woman_girl_girl:"👨&zwj;👩&zwj;👧&zwj;👧",family_woman_boy:"👩&zwj;👦",family_woman_boy_boy:"👩&zwj;👦&zwj;👦",family_woman_girl:"👩&zwj;👧",family_woman_girl_boy:"👩&zwj;👧&zwj;👦",family_woman_girl_girl:"👩&zwj;👧&zwj;👧",family_woman_woman_boy:"👩&zwj;👩&zwj;👦",family_woman_woman_boy_boy:"👩&zwj;👩&zwj;👦&zwj;👦",family_woman_woman_girl:"👩&zwj;👩&zwj;👧",family_woman_woman_girl_boy:"👩&zwj;👩&zwj;👧&zwj;👦",family_woman_woman_girl_girl:"👩&zwj;👩&zwj;👧&zwj;👧",fast_forward:"⏩",fax:"📠",fearful:"😨",feet:"🐾",female_detective:"🕵️&zwj;♀️",ferris_wheel:"🎡",ferry:"⛴",field_hockey:"🏑",file_cabinet:"🗄",file_folder:"📁",film_projector:"📽",film_strip:"🎞",fire:"🔥",fire_engine:"🚒",fireworks:"🎆",first_quarter_moon:"🌓",first_quarter_moon_with_face:"🌛",fish:"🐟",fish_cake:"🍥",fishing_pole_and_fish:"🎣",fist_raised:"✊",fist_left:"🤛",fist_right:"🤜",flags:"🎏",flashlight:"🔦",fleur_de_lis:"⚜️",flight_arrival:"🛬",flight_departure:"🛫",floppy_disk:"💾",flower_playing_cards:"🎴",flushed:"😳",fog:"🌫",foggy:"🌁",football:"🏈",footprints:"👣",fork_and_knife:"🍴",fountain:"⛲️",fountain_pen:"🖋",four_leaf_clover:"🍀",fox_face:"🦊",framed_picture:"🖼",free:"🆓",fried_egg:"🍳",fried_shrimp:"🍤",fries:"🍟",frog:"🐸",frowning:"😦",frowning_face:"☹️",frowning_man:"🙍&zwj;♂️",frowning_woman:"🙍",middle_finger:"🖕",fuelpump:"⛽️",full_moon:"🌕",full_moon_with_face:"🌝",funeral_urn:"⚱️",game_die:"🎲",gear:"⚙️",gem:"💎",gemini:"♊️",ghost:"👻",gift:"🎁",gift_heart:"💝",girl:"👧",globe_with_meridians:"🌐",goal_net:"🥅",goat:"🐐",golf:"⛳️",golfing_man:"🏌️",golfing_woman:"🏌️&zwj;♀️",gorilla:"🦍",grapes:"🍇",green_apple:"🍏",green_book:"📗",green_heart:"💚",green_salad:"🥗",grey_exclamation:"❕",grey_question:"❔",grimacing:"😬",grin:"😁",grinning:"😀",guardsman:"💂",guardswoman:"💂&zwj;♀️",guitar:"🎸",gun:"🔫",haircut_woman:"💇",haircut_man:"💇&zwj;♂️",hamburger:"🍔",hammer:"🔨",hammer_and_pick:"⚒",hammer_and_wrench:"🛠",hamster:"🐹",hand:"✋",handbag:"👜",handshake:"🤝",hankey:"💩",hatched_chick:"🐥",hatching_chick:"🐣",headphones:"🎧",hear_no_evil:"🙉",heart:"❤️",heart_decoration:"💟",heart_eyes:"😍",heart_eyes_cat:"😻",heartbeat:"💓",heartpulse:"💗",hearts:"♥️",heavy_check_mark:"✔️",heavy_division_sign:"➗",heavy_dollar_sign:"💲",heavy_heart_exclamation:"❣️",heavy_minus_sign:"➖",heavy_multiplication_x:"✖️",heavy_plus_sign:"➕",helicopter:"🚁",herb:"🌿",hibiscus:"🌺",high_brightness:"🔆",high_heel:"👠",hocho:"🔪",hole:"🕳",honey_pot:"🍯",horse:"🐴",horse_racing:"🏇",hospital:"🏥",hot_pepper:"🌶",hotdog:"🌭",hotel:"🏨",hotsprings:"♨️",hourglass:"⌛️",hourglass_flowing_sand:"⏳",house:"🏠",house_with_garden:"🏡",houses:"🏘",hugs:"🤗",hushed:"😯",ice_cream:"🍨",ice_hockey:"🏒",ice_skate:"⛸",icecream:"🍦",id:"🆔",ideograph_advantage:"🉐",imp:"👿",inbox_tray:"📥",incoming_envelope:"📨",tipping_hand_woman:"💁",information_source:"ℹ️",innocent:"😇",interrobang:"⁉️",iphone:"📱",izakaya_lantern:"🏮",jack_o_lantern:"🎃",japan:"🗾",japanese_castle:"🏯",japanese_goblin:"👺",japanese_ogre:"👹",jeans:"👖",joy:"😂",joy_cat:"😹",joystick:"🕹",kaaba:"🕋",key:"🔑",keyboard:"⌨️",keycap_ten:"🔟",kick_scooter:"🛴",kimono:"👘",kiss:"💋",kissing:"😗",kissing_cat:"😽",kissing_closed_eyes:"😚",kissing_heart:"😘",kissing_smiling_eyes:"😙",kiwi_fruit:"🥝",koala:"🐨",koko:"🈁",label:"🏷",large_blue_circle:"🔵",large_blue_diamond:"🔷",large_orange_diamond:"🔶",last_quarter_moon:"🌗",last_quarter_moon_with_face:"🌜",latin_cross:"✝️",laughing:"😆",leaves:"🍃",ledger:"📒",left_luggage:"🛅",left_right_arrow:"↔️",leftwards_arrow_with_hook:"↩️",lemon:"🍋",leo:"♌️",leopard:"🐆",level_slider:"🎚",libra:"♎️",light_rail:"🚈",link:"🔗",lion:"🦁",lips:"👄",lipstick:"💄",lizard:"🦎",lock:"🔒",lock_with_ink_pen:"🔏",lollipop:"🍭",loop:"➿",loud_sound:"🔊",loudspeaker:"📢",love_hotel:"🏩",love_letter:"💌",low_brightness:"🔅",lying_face:"🤥",m:"Ⓜ️",mag:"🔍",mag_right:"🔎",mahjong:"🀄️",mailbox:"📫",mailbox_closed:"📪",mailbox_with_mail:"📬",mailbox_with_no_mail:"📭",man:"👨",man_artist:"👨&zwj;🎨",man_astronaut:"👨&zwj;🚀",man_cartwheeling:"🤸&zwj;♂️",man_cook:"👨&zwj;🍳",man_dancing:"🕺",man_facepalming:"🤦&zwj;♂️",man_factory_worker:"👨&zwj;🏭",man_farmer:"👨&zwj;🌾",man_firefighter:"👨&zwj;🚒",man_health_worker:"👨&zwj;⚕️",man_in_tuxedo:"🤵",man_judge:"👨&zwj;⚖️",man_juggling:"🤹&zwj;♂️",man_mechanic:"👨&zwj;🔧",man_office_worker:"👨&zwj;💼",man_pilot:"👨&zwj;✈️",man_playing_handball:"🤾&zwj;♂️",man_playing_water_polo:"🤽&zwj;♂️",man_scientist:"👨&zwj;🔬",man_shrugging:"🤷&zwj;♂️",man_singer:"👨&zwj;🎤",man_student:"👨&zwj;🎓",man_teacher:"👨&zwj;🏫",man_technologist:"👨&zwj;💻",man_with_gua_pi_mao:"👲",man_with_turban:"👳",tangerine:"🍊",mans_shoe:"👞",mantelpiece_clock:"🕰",maple_leaf:"🍁",martial_arts_uniform:"🥋",mask:"😷",massage_woman:"💆",massage_man:"💆&zwj;♂️",meat_on_bone:"🍖",medal_military:"🎖",medal_sports:"🏅",mega:"📣",melon:"🍈",memo:"📝",men_wrestling:"🤼&zwj;♂️",menorah:"🕎",mens:"🚹",metal:"🤘",metro:"🚇",microphone:"🎤",microscope:"🔬",milk_glass:"🥛",milky_way:"🌌",minibus:"🚐",minidisc:"💽",mobile_phone_off:"📴",money_mouth_face:"🤑",money_with_wings:"💸",moneybag:"💰",monkey:"🐒",monkey_face:"🐵",monorail:"🚝",moon:"🌔",mortar_board:"🎓",mosque:"🕌",motor_boat:"🛥",motor_scooter:"🛵",motorcycle:"🏍",motorway:"🛣",mount_fuji:"🗻",mountain:"⛰",mountain_biking_man:"🚵",mountain_biking_woman:"🚵&zwj;♀️",mountain_cableway:"🚠",mountain_railway:"🚞",mountain_snow:"🏔",mouse:"🐭",mouse2:"🐁",movie_camera:"🎥",moyai:"🗿",mrs_claus:"🤶",muscle:"💪",mushroom:"🍄",musical_keyboard:"🎹",musical_note:"🎵",musical_score:"🎼",mute:"🔇",nail_care:"💅",name_badge:"📛",national_park:"🏞",nauseated_face:"🤢",necktie:"👔",negative_squared_cross_mark:"❎",nerd_face:"🤓",neutral_face:"😐",new:"🆕",new_moon:"🌑",new_moon_with_face:"🌚",newspaper:"📰",newspaper_roll:"🗞",next_track_button:"⏭",ng:"🆖",no_good_man:"🙅&zwj;♂️",no_good_woman:"🙅",night_with_stars:"🌃",no_bell:"🔕",no_bicycles:"🚳",no_entry:"⛔️",no_entry_sign:"🚫",no_mobile_phones:"📵",no_mouth:"😶",no_pedestrians:"🚷",no_smoking:"🚭","non-potable_water":"🚱",nose:"👃",notebook:"📓",notebook_with_decorative_cover:"📔",notes:"🎶",nut_and_bolt:"🔩",o:"⭕️",o2:"🅾️",ocean:"🌊",octopus:"🐙",oden:"🍢",office:"🏢",oil_drum:"🛢",ok:"🆗",ok_hand:"👌",ok_man:"🙆&zwj;♂️",ok_woman:"🙆",old_key:"🗝",older_man:"👴",older_woman:"👵",om:"🕉",on:"🔛",oncoming_automobile:"🚘",oncoming_bus:"🚍",oncoming_police_car:"🚔",oncoming_taxi:"🚖",open_file_folder:"📂",open_hands:"👐",open_mouth:"😮",open_umbrella:"☂️",ophiuchus:"⛎",orange_book:"📙",orthodox_cross:"☦️",outbox_tray:"📤",owl:"🦉",ox:"🐂",package:"📦",page_facing_up:"📄",page_with_curl:"📃",pager:"📟",paintbrush:"🖌",palm_tree:"🌴",pancakes:"🥞",panda_face:"🐼",paperclip:"📎",paperclips:"🖇",parasol_on_ground:"⛱",parking:"🅿️",part_alternation_mark:"〽️",partly_sunny:"⛅️",passenger_ship:"🛳",passport_control:"🛂",pause_button:"⏸",peace_symbol:"☮️",peach:"🍑",peanuts:"🥜",pear:"🍐",pen:"🖊",pencil2:"✏️",penguin:"🐧",pensive:"😔",performing_arts:"🎭",persevere:"😣",person_fencing:"🤺",pouting_woman:"🙎",phone:"☎️",pick:"⛏",pig:"🐷",pig2:"🐖",pig_nose:"🐽",pill:"💊",pineapple:"🍍",ping_pong:"🏓",pisces:"♓️",pizza:"🍕",place_of_worship:"🛐",plate_with_cutlery:"🍽",play_or_pause_button:"⏯",point_down:"👇",point_left:"👈",point_right:"👉",point_up:"☝️",point_up_2:"👆",police_car:"🚓",policewoman:"👮&zwj;♀️",poodle:"🐩",popcorn:"🍿",post_office:"🏣",postal_horn:"📯",postbox:"📮",potable_water:"🚰",potato:"🥔",pouch:"👝",poultry_leg:"🍗",pound:"💷",rage:"😡",pouting_cat:"😾",pouting_man:"🙎&zwj;♂️",pray:"🙏",prayer_beads:"📿",pregnant_woman:"🤰",previous_track_button:"⏮",prince:"🤴",princess:"👸",printer:"🖨",purple_heart:"💜",purse:"👛",pushpin:"📌",put_litter_in_its_place:"🚮",question:"❓",rabbit:"🐰",rabbit2:"🐇",racehorse:"🐎",racing_car:"🏎",radio:"📻",radio_button:"🔘",radioactive:"☢️",railway_car:"🚃",railway_track:"🛤",rainbow:"🌈",rainbow_flag:"🏳️&zwj;🌈",raised_back_of_hand:"🤚",raised_hand_with_fingers_splayed:"🖐",raised_hands:"🙌",raising_hand_woman:"🙋",raising_hand_man:"🙋&zwj;♂️",ram:"🐏",ramen:"🍜",rat:"🐀",record_button:"⏺",recycle:"♻️",red_circle:"🔴",registered:"®️",relaxed:"☺️",relieved:"😌",reminder_ribbon:"🎗",repeat:"🔁",repeat_one:"🔂",rescue_worker_helmet:"⛑",restroom:"🚻",revolving_hearts:"💞",rewind:"⏪",rhinoceros:"🦏",ribbon:"🎀",rice:"🍚",rice_ball:"🍙",rice_cracker:"🍘",rice_scene:"🎑",right_anger_bubble:"🗯",ring:"💍",robot:"🤖",rocket:"🚀",rofl:"🤣",roll_eyes:"🙄",roller_coaster:"🎢",rooster:"🐓",rose:"🌹",rosette:"🏵",rotating_light:"🚨",round_pushpin:"📍",rowing_man:"🚣",rowing_woman:"🚣&zwj;♀️",rugby_football:"🏉",running_man:"🏃",running_shirt_with_sash:"🎽",running_woman:"🏃&zwj;♀️",sa:"🈂️",sagittarius:"♐️",sake:"🍶",sandal:"👡",santa:"🎅",satellite:"📡",saxophone:"🎷",school:"🏫",school_satchel:"🎒",scissors:"✂️",scorpion:"🦂",scorpius:"♏️",scream:"😱",scream_cat:"🙀",scroll:"📜",seat:"💺",secret:"㊙️",see_no_evil:"🙈",seedling:"🌱",selfie:"🤳",shallow_pan_of_food:"🥘",shamrock:"☘️",shark:"🦈",shaved_ice:"🍧",sheep:"🐑",shell:"🐚",shield:"🛡",shinto_shrine:"⛩",ship:"🚢",shirt:"👕",shopping:"🛍",shopping_cart:"🛒",shower:"🚿",shrimp:"🦐",signal_strength:"📶",six_pointed_star:"🔯",ski:"🎿",skier:"⛷",skull:"💀",skull_and_crossbones:"☠️",sleeping:"😴",sleeping_bed:"🛌",sleepy:"😪",slightly_frowning_face:"🙁",slightly_smiling_face:"🙂",slot_machine:"🎰",small_airplane:"🛩",small_blue_diamond:"🔹",small_orange_diamond:"🔸",small_red_triangle:"🔺",small_red_triangle_down:"🔻",smile:"😄",smile_cat:"😸",smiley:"😃",smiley_cat:"😺",smiling_imp:"😈",smirk:"😏",smirk_cat:"😼",smoking:"🚬",snail:"🐌",snake:"🐍",sneezing_face:"🤧",snowboarder:"🏂",snowflake:"❄️",snowman:"⛄️",snowman_with_snow:"☃️",sob:"😭",soccer:"⚽️",soon:"🔜",sos:"🆘",sound:"🔉",space_invader:"👾",spades:"♠️",spaghetti:"🍝",sparkle:"❇️",sparkler:"🎇",sparkles:"✨",sparkling_heart:"💖",speak_no_evil:"🙊",speaker:"🔈",speaking_head:"🗣",speech_balloon:"💬",speedboat:"🚤",spider:"🕷",spider_web:"🕸",spiral_calendar:"🗓",spiral_notepad:"🗒",spoon:"🥄",squid:"🦑",stadium:"🏟",star:"⭐️",star2:"🌟",star_and_crescent:"☪️",star_of_david:"✡️",stars:"🌠",station:"🚉",statue_of_liberty:"🗽",steam_locomotive:"🚂",stew:"🍲",stop_button:"⏹",stop_sign:"🛑",stopwatch:"⏱",straight_ruler:"📏",strawberry:"🍓",stuck_out_tongue:"😛",stuck_out_tongue_closed_eyes:"😝",stuck_out_tongue_winking_eye:"😜",studio_microphone:"🎙",stuffed_flatbread:"🥙",sun_behind_large_cloud:"🌥",sun_behind_rain_cloud:"🌦",sun_behind_small_cloud:"🌤",sun_with_face:"🌞",sunflower:"🌻",sunglasses:"😎",sunny:"☀️",sunrise:"🌅",sunrise_over_mountains:"🌄",surfing_man:"🏄",surfing_woman:"🏄&zwj;♀️",sushi:"🍣",suspension_railway:"🚟",sweat:"😓",sweat_drops:"💦",sweat_smile:"😅",sweet_potato:"🍠",swimming_man:"🏊",swimming_woman:"🏊&zwj;♀️",symbols:"🔣",synagogue:"🕍",syringe:"💉",taco:"🌮",tada:"🎉",tanabata_tree:"🎋",taurus:"♉️",taxi:"🚕",tea:"🍵",telephone_receiver:"📞",telescope:"🔭",tennis:"🎾",tent:"⛺️",thermometer:"🌡",thinking:"🤔",thought_balloon:"💭",ticket:"🎫",tickets:"🎟",tiger:"🐯",tiger2:"🐅",timer_clock:"⏲",tipping_hand_man:"💁&zwj;♂️",tired_face:"😫",tm:"™️",toilet:"🚽",tokyo_tower:"🗼",tomato:"🍅",tongue:"👅",top:"🔝",tophat:"🎩",tornado:"🌪",trackball:"🖲",tractor:"🚜",traffic_light:"🚥",train:"🚋",train2:"🚆",tram:"🚊",triangular_flag_on_post:"🚩",triangular_ruler:"📐",trident:"🔱",triumph:"😤",trolleybus:"🚎",trophy:"🏆",tropical_drink:"🍹",tropical_fish:"🐠",truck:"🚚",trumpet:"🎺",tulip:"🌷",tumbler_glass:"🥃",turkey:"🦃",turtle:"🐢",tv:"📺",twisted_rightwards_arrows:"🔀",two_hearts:"💕",two_men_holding_hands:"👬",two_women_holding_hands:"👭",u5272:"🈹",u5408:"🈴",u55b6:"🈺",u6307:"🈯️",u6708:"🈷️",u6709:"🈶",u6e80:"🈵",u7121:"🈚️",u7533:"🈸",u7981:"🈲",u7a7a:"🈳",umbrella:"☔️",unamused:"😒",underage:"🔞",unicorn:"🦄",unlock:"🔓",up:"🆙",upside_down_face:"🙃",v:"✌️",vertical_traffic_light:"🚦",vhs:"📼",vibration_mode:"📳",video_camera:"📹",video_game:"🎮",violin:"🎻",virgo:"♍️",volcano:"🌋",volleyball:"🏐",vs:"🆚",vulcan_salute:"🖖",walking_man:"🚶",walking_woman:"🚶&zwj;♀️",waning_crescent_moon:"🌘",waning_gibbous_moon:"🌖",warning:"⚠️",wastebasket:"🗑",watch:"⌚️",water_buffalo:"🐃",watermelon:"🍉",wave:"👋",wavy_dash:"〰️",waxing_crescent_moon:"🌒",wc:"🚾",weary:"😩",wedding:"💒",weight_lifting_man:"🏋️",weight_lifting_woman:"🏋️&zwj;♀️",whale:"🐳",whale2:"🐋",wheel_of_dharma:"☸️",wheelchair:"♿️",white_check_mark:"✅",white_circle:"⚪️",white_flag:"🏳️",white_flower:"💮",white_large_square:"⬜️",white_medium_small_square:"◽️",white_medium_square:"◻️",white_small_square:"▫️",white_square_button:"🔳",wilted_flower:"🥀",wind_chime:"🎐",wind_face:"🌬",wine_glass:"🍷",wink:"😉",wolf:"🐺",woman:"👩",woman_artist:"👩&zwj;🎨",woman_astronaut:"👩&zwj;🚀",woman_cartwheeling:"🤸&zwj;♀️",woman_cook:"👩&zwj;🍳",woman_facepalming:"🤦&zwj;♀️",woman_factory_worker:"👩&zwj;🏭",woman_farmer:"👩&zwj;🌾",woman_firefighter:"👩&zwj;🚒",woman_health_worker:"👩&zwj;⚕️",woman_judge:"👩&zwj;⚖️",woman_juggling:"🤹&zwj;♀️",woman_mechanic:"👩&zwj;🔧",woman_office_worker:"👩&zwj;💼",woman_pilot:"👩&zwj;✈️",woman_playing_handball:"🤾&zwj;♀️",woman_playing_water_polo:"🤽&zwj;♀️",woman_scientist:"👩&zwj;🔬",woman_shrugging:"🤷&zwj;♀️",woman_singer:"👩&zwj;🎤",woman_student:"👩&zwj;🎓",woman_teacher:"👩&zwj;🏫",woman_technologist:"👩&zwj;💻",woman_with_turban:"👳&zwj;♀️",womans_clothes:"👚",womans_hat:"👒",women_wrestling:"🤼&zwj;♀️",womens:"🚺",world_map:"🗺",worried:"😟",wrench:"🔧",writing_hand:"✍️",x:"❌",yellow_heart:"💛",yen:"💴",yin_yang:"☯️",yum:"😋",zap:"⚡️",zipper_mouth_face:"🤐",zzz:"💤",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:"<span style=\"font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;\">S</span>"},s.Converter=function(e){"use strict";var t={},n=[],r=[],a={},o=c,h={parsed:{},raw:"",format:""};function p(e,t){if(t=t||null,s.helper.isString(e)){if(t=e=s.helper.stdExtName(e),s.extensions[e])return console.warn("DEPRECATION WARNING: "+e+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),void function(e,t){"function"==typeof e&&(e=e(new s.Converter)),s.helper.isArray(e)||(e=[e]);var a=d(e,t);if(!a.valid)throw Error(a.error);for(var o=0;o<e.length;++o)switch(e[o].type){case"lang":n.push(e[o]);break;case"output":r.push(e[o]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}(s.extensions[e],e);if(s.helper.isUndefined(i[e]))throw Error('Extension "'+e+'" could not be loaded. It was either not found or is not a valid extension.');e=i[e]}"function"==typeof e&&(e=e()),s.helper.isArray(e)||(e=[e]);var a=d(e,t);if(!a.valid)throw Error(a.error);for(var o=0;o<e.length;++o){switch(e[o].type){case"lang":n.push(e[o]);break;case"output":r.push(e[o])}if(e[o].hasOwnProperty("listeners"))for(var l in e[o].listeners)e[o].listeners.hasOwnProperty(l)&&f(l,e[o].listeners[l])}}function f(e,t){if(!s.helper.isString(e))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof e+" given");if("function"!=typeof t)throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof t+" given");a.hasOwnProperty(e)||(a[e]=[]),a[e].push(t)}!function(){for(var n in e=e||{},l)l.hasOwnProperty(n)&&(t[n]=l[n]);if("object"!=typeof e)throw Error("Converter expects the passed parameter to be an object, but "+typeof e+" was passed instead.");for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.extensions&&s.helper.forEach(t.extensions,p)}(),this._dispatch=function(e,t,n,r){if(a.hasOwnProperty(e))for(var s=0;s<a[e].length;++s){var o=a[e][s](e,t,this,n,r);o&&void 0!==o&&(t=o)}return t},this.listen=function(e,t){return f(e,t),this},this.makeHtml=function(e){if(!e)return e;var a={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:n,outputModifiers:r,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return e=(e=(e=(e=(e=e.replace(/¨/g,"¨T")).replace(/\$/g,"¨D")).replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/\u00A0/g,"&nbsp;"),t.smartIndentationFix&&(e=function(e){var t=e.match(/^\s*/)[0].length,n=new RegExp("^\\s{0,"+t+"}","gm");return e.replace(n,"")}(e)),e="\n\n"+e+"\n\n",e=(e=s.subParser("detab")(e,t,a)).replace(/^[ \t]+$/gm,""),s.helper.forEach(n,(function(n){e=s.subParser("runExtension")(n,e,t,a)})),e=s.subParser("metadata")(e,t,a),e=s.subParser("hashPreCodeTags")(e,t,a),e=s.subParser("githubCodeBlocks")(e,t,a),e=s.subParser("hashHTMLBlocks")(e,t,a),e=s.subParser("hashCodeTags")(e,t,a),e=s.subParser("stripLinkDefinitions")(e,t,a),e=s.subParser("blockGamut")(e,t,a),e=s.subParser("unhashHTMLSpans")(e,t,a),e=(e=(e=s.subParser("unescapeSpecialChars")(e,t,a)).replace(/¨D/g,"$$")).replace(/¨T/g,"¨"),e=s.subParser("completeHTMLDocument")(e,t,a),s.helper.forEach(r,(function(n){e=s.subParser("runExtension")(n,e,t,a)})),h=a.metadata,e},this.makeMarkdown=this.makeMd=function(e,t){if(e=(e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/>[ \t]+</,">¨NBSP;<"),!t){if(!window||!window.document)throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");t=window.document}var n=t.createElement("div");n.innerHTML=e;var r={preList:function(e){for(var t=e.querySelectorAll("pre"),n=[],r=0;r<t.length;++r)if(1===t[r].childElementCount&&"code"===t[r].firstChild.tagName.toLowerCase()){var a=t[r].firstChild.innerHTML.trim(),o=t[r].firstChild.getAttribute("data-language")||"";if(""===o)for(var i=t[r].firstChild.className.split(" "),l=0;l<i.length;++l){var c=i[l].match(/^language-(.+)$/);if(null!==c){o=c[1];break}}a=s.helper.unescapeHTMLEntities(a),n.push(a),t[r].outerHTML='<precode language="'+o+'" precodenum="'+r.toString()+'"></precode>'}else n.push(t[r].innerHTML),t[r].innerHTML="",t[r].setAttribute("prenum",r.toString());return n}(n)};!function e(t){for(var n=0;n<t.childNodes.length;++n){var r=t.childNodes[n];3===r.nodeType?/\S/.test(r.nodeValue)?(r.nodeValue=r.nodeValue.split("\n").join(" "),r.nodeValue=r.nodeValue.replace(/(\s)+/g,"$1")):(t.removeChild(r),--n):1===r.nodeType&&e(r)}}(n);for(var a=n.childNodes,o="",i=0;i<a.length;i++)o+=s.subParser("makeMarkdown.node")(a[i],r);return o},this.setOption=function(e,n){t[e]=n},this.getOption=function(e){return t[e]},this.getOptions=function(){return t},this.addExtension=function(e,t){p(e,t=t||null)},this.useExtension=function(e){p(e)},this.setFlavor=function(e){if(!u.hasOwnProperty(e))throw Error(e+" flavor was not found");var n=u[e];for(var r in o=e,n)n.hasOwnProperty(r)&&(t[r]=n[r])},this.getFlavor=function(){return o},this.removeExtension=function(e){s.helper.isArray(e)||(e=[e]);for(var t=0;t<e.length;++t){for(var a=e[t],o=0;o<n.length;++o)n[o]===a&&n[o].splice(o,1);for(;0<r.length;++o)r[0]===a&&r[0].splice(o,1)}},this.getAllExtensions=function(){return{language:n,output:r}},this.getMetadata=function(e){return e?h.raw:h.parsed},this.getMetadataFormat=function(){return h.format},this._setMetadataPair=function(e,t){h.parsed[e]=t},this._setMetadataFormat=function(e){h.format=e},this._setMetadataRaw=function(e){h.raw=e}},s.subParser("anchors",(function(e,t,n){"use strict";var r=function(e,r,a,o,i,l,c){if(s.helper.isUndefined(c)&&(c=""),a=a.toLowerCase(),e.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)o="";else if(!o){if(a||(a=r.toLowerCase().replace(/ ?\n/g," ")),o="#"+a,s.helper.isUndefined(n.gUrls[a]))return e;o=n.gUrls[a],s.helper.isUndefined(n.gTitles[a])||(c=n.gTitles[a])}var u='<a href="'+(o=o.replace(s.helper.regexes.asteriskDashAndColon,s.helper.escapeCharactersCallback))+'"';return""!==c&&null!==c&&(u+=' title="'+(c=(c=c.replace(/"/g,"&quot;")).replace(s.helper.regexes.asteriskDashAndColon,s.helper.escapeCharactersCallback))+'"'),t.openLinksInNewWindow&&!/^#/.test(o)&&(u+=' rel="noopener noreferrer" target="¨E95Eblank"'),u+">"+r+"</a>"};return e=(e=(e=(e=(e=n.converter._dispatch("anchors.before",e,t,n)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,r)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,r)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,r)).replace(/\[([^\[\]]+)]()()()()()/g,r),t.ghMentions&&(e=e.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gim,(function(e,n,r,a,o){if("\\"===r)return n+a;if(!s.helper.isString(t.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var i=t.ghMentionsLink.replace(/\{u}/g,o),l="";return t.openLinksInNewWindow&&(l=' rel="noopener noreferrer" target="¨E95Eblank"'),n+'<a href="'+i+'"'+l+">"+a+"</a>"}))),n.converter._dispatch("anchors.after",e,t,n)}));var f=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,g=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,_=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,m=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gim,b=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,w=function(e){"use strict";return function(t,n,r,a,o,i,l){var c=r=r.replace(s.helper.regexes.asteriskDashAndColon,s.helper.escapeCharactersCallback),u="",d="",h=n||"",p=l||"";return/^www\./i.test(r)&&(r=r.replace(/^www\./i,"http://www.")),e.excludeTrailingPunctuationFromURLs&&i&&(u=i),e.openLinksInNewWindow&&(d=' rel="noopener noreferrer" target="¨E95Eblank"'),h+'<a href="'+r+'"'+d+">"+c+"</a>"+u+p}},v=function(e,t){"use strict";return function(n,r,a){var o="mailto:";return r=r||"",a=s.subParser("unescapeSpecialChars")(a,e,t),e.encodeEmails?(o=s.helper.encodeEmailAddress(o+a),a=s.helper.encodeEmailAddress(a)):o+=a,r+'<a href="'+o+'">'+a+"</a>"}};s.subParser("autoLinks",(function(e,t,n){"use strict";return e=(e=(e=n.converter._dispatch("autoLinks.before",e,t,n)).replace(_,w(t))).replace(b,v(t,n)),n.converter._dispatch("autoLinks.after",e,t,n)})),s.subParser("simplifiedAutoLinks",(function(e,t,n){"use strict";return t.simplifiedAutoLink?(e=n.converter._dispatch("simplifiedAutoLinks.before",e,t,n),e=(e=t.excludeTrailingPunctuationFromURLs?e.replace(g,w(t)):e.replace(f,w(t))).replace(m,v(t,n)),e=n.converter._dispatch("simplifiedAutoLinks.after",e,t,n)):e})),s.subParser("blockGamut",(function(e,t,n){"use strict";return e=n.converter._dispatch("blockGamut.before",e,t,n),e=s.subParser("blockQuotes")(e,t,n),e=s.subParser("headers")(e,t,n),e=s.subParser("horizontalRule")(e,t,n),e=s.subParser("lists")(e,t,n),e=s.subParser("codeBlocks")(e,t,n),e=s.subParser("tables")(e,t,n),e=s.subParser("hashHTMLBlocks")(e,t,n),e=s.subParser("paragraphs")(e,t,n),n.converter._dispatch("blockGamut.after",e,t,n)})),s.subParser("blockQuotes",(function(e,t,n){"use strict";e=n.converter._dispatch("blockQuotes.before",e,t,n),e+="\n\n";var r=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return t.splitAdjacentBlockquotes&&(r=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),e=e.replace(r,(function(e){return e=(e=(e=e.replace(/^[ \t]*>[ \t]?/gm,"")).replace(/¨0/g,"")).replace(/^[ \t]+$/gm,""),e=s.subParser("githubCodeBlocks")(e,t,n),e=(e=(e=s.subParser("blockGamut")(e,t,n)).replace(/(^|\n)/g,"$1  ")).replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,(function(e,t){var n=t;return(n=n.replace(/^  /gm,"¨0")).replace(/¨0/g,"")})),s.subParser("hashBlock")("<blockquote>\n"+e+"\n</blockquote>",t,n)})),n.converter._dispatch("blockQuotes.after",e,t,n)})),s.subParser("codeBlocks",(function(e,t,n){"use strict";return e=n.converter._dispatch("codeBlocks.before",e,t,n),e=(e=(e+="¨0").replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=¨0))/g,(function(e,r,a){var o=r,i=a,l="\n";return o=s.subParser("outdent")(o,t,n),o=s.subParser("encodeCode")(o,t,n),o=(o=(o=s.subParser("detab")(o,t,n)).replace(/^\n+/g,"")).replace(/\n+$/g,""),t.omitExtraWLInCodeBlocks&&(l=""),o="<pre><code>"+o+l+"</code></pre>",s.subParser("hashBlock")(o,t,n)+i}))).replace(/¨0/,""),n.converter._dispatch("codeBlocks.after",e,t,n)})),s.subParser("codeSpans",(function(e,t,n){"use strict";return void 0===(e=n.converter._dispatch("codeSpans.before",e,t,n))&&(e=""),e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,(function(e,r,a,o){var i=o;return i=(i=i.replace(/^([ \t]*)/g,"")).replace(/[ \t]*$/g,""),i=r+"<code>"+(i=s.subParser("encodeCode")(i,t,n))+"</code>",s.subParser("hashHTMLSpans")(i,t,n)})),n.converter._dispatch("codeSpans.after",e,t,n)})),s.subParser("completeHTMLDocument",(function(e,t,n){"use strict";if(!t.completeHTMLDocument)return e;e=n.converter._dispatch("completeHTMLDocument.before",e,t,n);var r="html",a="<!DOCTYPE HTML>\n",s="",o='<meta charset="utf-8">\n',i="",l="";for(var c in void 0!==n.metadata.parsed.doctype&&(a="<!DOCTYPE "+n.metadata.parsed.doctype+">\n","html"!==(r=n.metadata.parsed.doctype.toString().toLowerCase())&&"html5"!==r||(o='<meta charset="utf-8">')),n.metadata.parsed)if(n.metadata.parsed.hasOwnProperty(c))switch(c.toLowerCase()){case"doctype":break;case"title":s="<title>"+n.metadata.parsed.title+"</title>\n";break;case"charset":o="html"===r||"html5"===r?'<meta charset="'+n.metadata.parsed.charset+'">\n':'<meta name="charset" content="'+n.metadata.parsed.charset+'">\n';break;case"language":case"lang":i=' lang="'+n.metadata.parsed[c]+'"',l+='<meta name="'+c+'" content="'+n.metadata.parsed[c]+'">\n';break;default:l+='<meta name="'+c+'" content="'+n.metadata.parsed[c]+'">\n'}return e=a+"<html"+i+">\n<head>\n"+s+o+l+"</head>\n<body>\n"+e.trim()+"\n</body>\n</html>",n.converter._dispatch("completeHTMLDocument.after",e,t,n)})),s.subParser("detab",(function(e,t,n){"use strict";return e=(e=(e=(e=(e=(e=n.converter._dispatch("detab.before",e,t,n)).replace(/\t(?=\t)/g,"    ")).replace(/\t/g,"¨A¨B")).replace(/¨B(.+?)¨A/g,(function(e,t){for(var n=t,r=4-n.length%4,a=0;a<r;a++)n+=" ";return n}))).replace(/¨A/g,"    ")).replace(/¨B/g,""),n.converter._dispatch("detab.after",e,t,n)})),s.subParser("ellipsis",(function(e,t,n){"use strict";return e=(e=n.converter._dispatch("ellipsis.before",e,t,n)).replace(/\.\.\./g,"…"),n.converter._dispatch("ellipsis.after",e,t,n)})),s.subParser("emoji",(function(e,t,n){"use strict";return t.emoji?(e=(e=n.converter._dispatch("emoji.before",e,t,n)).replace(/:([\S]+?):/g,(function(e,t){return s.helper.emojis.hasOwnProperty(t)?s.helper.emojis[t]:e})),n.converter._dispatch("emoji.after",e,t,n)):e})),s.subParser("encodeAmpsAndAngles",(function(e,t,n){"use strict";return e=(e=(e=(e=(e=n.converter._dispatch("encodeAmpsAndAngles.before",e,t,n)).replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;")).replace(/<(?![a-z\/?$!])/gi,"&lt;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),n.converter._dispatch("encodeAmpsAndAngles.after",e,t,n)})),s.subParser("encodeBackslashEscapes",(function(e,t,n){"use strict";return e=(e=(e=n.converter._dispatch("encodeBackslashEscapes.before",e,t,n)).replace(/\\(\\)/g,s.helper.escapeCharactersCallback)).replace(/\\([`*_{}\[\]()>#+.!~=|-])/g,s.helper.escapeCharactersCallback),n.converter._dispatch("encodeBackslashEscapes.after",e,t,n)})),s.subParser("encodeCode",(function(e,t,n){"use strict";return e=(e=n.converter._dispatch("encodeCode.before",e,t,n)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,s.helper.escapeCharactersCallback),n.converter._dispatch("encodeCode.after",e,t,n)})),s.subParser("escapeSpecialCharsWithinTagAttributes",(function(e,t,n){"use strict";return e=(e=(e=n.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",e,t,n)).replace(/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,(function(e){return e.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,s.helper.escapeCharactersCallback)}))).replace(/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi,(function(e){return e.replace(/([\\`*_~=|])/g,s.helper.escapeCharactersCallback)})),n.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",e,t,n)})),s.subParser("githubCodeBlocks",(function(e,t,n){"use strict";return t.ghCodeBlocks?(e=n.converter._dispatch("githubCodeBlocks.before",e,t,n),e=(e=(e+="¨0").replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,(function(e,r,a,o){var i=t.omitExtraWLInCodeBlocks?"":"\n";return o=s.subParser("encodeCode")(o,t,n),o="<pre><code"+(a?' class="'+a+" language-"+a+'"':"")+">"+(o=(o=(o=s.subParser("detab")(o,t,n)).replace(/^\n+/g,"")).replace(/\n+$/g,""))+i+"</code></pre>",o=s.subParser("hashBlock")(o,t,n),"\n\n¨G"+(n.ghCodeBlocks.push({text:e,codeblock:o})-1)+"G\n\n"}))).replace(/¨0/,""),n.converter._dispatch("githubCodeBlocks.after",e,t,n)):e})),s.subParser("hashBlock",(function(e,t,n){"use strict";return e=(e=n.converter._dispatch("hashBlock.before",e,t,n)).replace(/(^\n+|\n+$)/g,""),e="\n\n¨K"+(n.gHtmlBlocks.push(e)-1)+"K\n\n",n.converter._dispatch("hashBlock.after",e,t,n)})),s.subParser("hashCodeTags",(function(e,t,n){"use strict";return e=n.converter._dispatch("hashCodeTags.before",e,t,n),e=s.helper.replaceRecursiveRegExp(e,(function(e,r,a,o){var i=a+s.subParser("encodeCode")(r,t,n)+o;return"¨C"+(n.gHtmlSpans.push(i)-1)+"C"}),"<code\\b[^>]*>","</code>","gim"),n.converter._dispatch("hashCodeTags.after",e,t,n)})),s.subParser("hashElement",(function(e,t,n){"use strict";return function(e,t){var r=t;return r=(r=(r=r.replace(/\n\n/g,"\n")).replace(/^\n/,"")).replace(/\n+$/g,""),"\n\n¨K"+(n.gHtmlBlocks.push(r)-1)+"K\n\n"}})),s.subParser("hashHTMLBlocks",(function(e,t,n){"use strict";e=n.converter._dispatch("hashHTMLBlocks.before",e,t,n);var r=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],a=function(e,t,r,a){var s=e;return-1!==r.search(/\bmarkdown\b/)&&(s=r+n.converter.makeHtml(t)+a),"\n\n¨K"+(n.gHtmlBlocks.push(s)-1)+"K\n\n"};t.backslashEscapesHTMLTags&&(e=e.replace(/\\<(\/?[^>]+?)>/g,(function(e,t){return"&lt;"+t+"&gt;"})));for(var o=0;o<r.length;++o)for(var i,l=new RegExp("^ {0,3}(<"+r[o]+"\\b[^>]*>)","im"),c="<"+r[o]+"\\b[^>]*>",u="</"+r[o]+">";-1!==(i=s.helper.regexIndexOf(e,l));){var d=s.helper.splitAtIndex(e,i),h=s.helper.replaceRecursiveRegExp(d[1],a,c,u,"im");if(h===d[1])break;e=d[0].concat(h)}return e=e.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,s.subParser("hashElement")(e,t,n)),e=(e=s.helper.replaceRecursiveRegExp(e,(function(e){return"\n\n¨K"+(n.gHtmlBlocks.push(e)-1)+"K\n\n"}),"^ {0,3}\x3c!--","--\x3e","gm")).replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,s.subParser("hashElement")(e,t,n)),n.converter._dispatch("hashHTMLBlocks.after",e,t,n)})),s.subParser("hashHTMLSpans",(function(e,t,n){"use strict";function r(e){return"¨C"+(n.gHtmlSpans.push(e)-1)+"C"}return e=(e=(e=(e=(e=n.converter._dispatch("hashHTMLSpans.before",e,t,n)).replace(/<[^>]+?\/>/gi,(function(e){return r(e)}))).replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,(function(e){return r(e)}))).replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,(function(e){return r(e)}))).replace(/<[^>]+?>/gi,(function(e){return r(e)})),n.converter._dispatch("hashHTMLSpans.after",e,t,n)})),s.subParser("unhashHTMLSpans",(function(e,t,n){"use strict";e=n.converter._dispatch("unhashHTMLSpans.before",e,t,n);for(var r=0;r<n.gHtmlSpans.length;++r){for(var a=n.gHtmlSpans[r],s=0;/¨C(\d+)C/.test(a);){var o=RegExp.$1;if(a=a.replace("¨C"+o+"C",n.gHtmlSpans[o]),10===s){console.error("maximum nesting of 10 spans reached!!!");break}++s}e=e.replace("¨C"+r+"C",a)}return n.converter._dispatch("unhashHTMLSpans.after",e,t,n)})),s.subParser("hashPreCodeTags",(function(e,t,n){"use strict";return e=n.converter._dispatch("hashPreCodeTags.before",e,t,n),e=s.helper.replaceRecursiveRegExp(e,(function(e,r,a,o){var i=a+s.subParser("encodeCode")(r,t,n)+o;return"\n\n¨G"+(n.ghCodeBlocks.push({text:e,codeblock:i})-1)+"G\n\n"}),"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),n.converter._dispatch("hashPreCodeTags.after",e,t,n)})),s.subParser("headers",(function(e,t,n){"use strict";e=n.converter._dispatch("headers.before",e,t,n);var r=isNaN(parseInt(t.headerLevelStart))?1:parseInt(t.headerLevelStart),a=t.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,o=t.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;e=(e=e.replace(a,(function(e,a){var o=s.subParser("spanGamut")(a,t,n),i=t.noHeaderId?"":' id="'+l(a)+'"',c="<h"+r+i+">"+o+"</h"+r+">";return s.subParser("hashBlock")(c,t,n)}))).replace(o,(function(e,a){var o=s.subParser("spanGamut")(a,t,n),i=t.noHeaderId?"":' id="'+l(a)+'"',c=r+1,u="<h"+c+i+">"+o+"</h"+c+">";return s.subParser("hashBlock")(u,t,n)}));var i=t.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;function l(e){var r,a;if(t.customizedHeaderId){var o=e.match(/\{([^{]+?)}\s*$/);o&&o[1]&&(e=o[1])}return r=e,a=s.helper.isString(t.prefixHeaderId)?t.prefixHeaderId:!0===t.prefixHeaderId?"section-":"",t.rawPrefixHeaderId||(r=a+r),r=t.ghCompatibleHeaderId?r.replace(/ /g,"-").replace(/&amp;/g,"").replace(/¨T/g,"").replace(/¨D/g,"").replace(/[&+$,\/:;=?@"#{}|^¨~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():t.rawHeaderId?r.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/¨T/g,"¨").replace(/¨D/g,"$").replace(/["']/g,"-").toLowerCase():r.replace(/[^\w]/g,"").toLowerCase(),t.rawPrefixHeaderId&&(r=a+r),n.hashLinkCounts[r]?r=r+"-"+n.hashLinkCounts[r]++:n.hashLinkCounts[r]=1,r}return e=e.replace(i,(function(e,a,o){var i=o;t.customizedHeaderId&&(i=o.replace(/\s?\{([^{]+?)}\s*$/,""));var c=s.subParser("spanGamut")(i,t,n),u=t.noHeaderId?"":' id="'+l(o)+'"',d=r-1+a.length,h="<h"+d+u+">"+c+"</h"+d+">";return s.subParser("hashBlock")(h,t,n)})),n.converter._dispatch("headers.after",e,t,n)})),s.subParser("horizontalRule",(function(e,t,n){"use strict";e=n.converter._dispatch("horizontalRule.before",e,t,n);var r=s.subParser("hashBlock")("<hr />",t,n);return e=(e=(e=e.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,r)).replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,r)).replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,r),n.converter._dispatch("horizontalRule.after",e,t,n)})),s.subParser("images",(function(e,t,n){"use strict";function r(e,t,r,a,o,i,l,c){var u=n.gUrls,d=n.gTitles,h=n.gDimensions;if(r=r.toLowerCase(),c||(c=""),e.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)a="";else if(""===a||null===a){if(""!==r&&null!==r||(r=t.toLowerCase().replace(/ ?\n/g," ")),a="#"+r,s.helper.isUndefined(u[r]))return e;a=u[r],s.helper.isUndefined(d[r])||(c=d[r]),s.helper.isUndefined(h[r])||(o=h[r].width,i=h[r].height)}t=t.replace(/"/g,"&quot;").replace(s.helper.regexes.asteriskDashAndColon,s.helper.escapeCharactersCallback);var p='<img src="'+(a=a.replace(s.helper.regexes.asteriskDashAndColon,s.helper.escapeCharactersCallback))+'" alt="'+t+'"';return c&&s.helper.isString(c)&&(p+=' title="'+(c=c.replace(/"/g,"&quot;").replace(s.helper.regexes.asteriskDashAndColon,s.helper.escapeCharactersCallback))+'"'),o&&i&&(p+=' width="'+(o="*"===o?"auto":o)+'"',p+=' height="'+(i="*"===i?"auto":i)+'"'),p+" />"}return e=(e=(e=(e=(e=(e=n.converter._dispatch("images.before",e,t,n)).replace(/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,r)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,(function(e,t,n,a,s,o,i,l){return r(e,t,n,a=a.replace(/\s/g,""),s,o,0,l)}))).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,r)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,r)).replace(/!\[([^\[\]]+)]()()()()()/g,r),n.converter._dispatch("images.after",e,t,n)})),s.subParser("italicsAndBold",(function(e,t,n){"use strict";function r(e,t,n){return t+e+n}return e=n.converter._dispatch("italicsAndBold.before",e,t,n),e=t.literalMidWordUnderscores?(e=(e=e.replace(/\b___(\S[\s\S]*?)___\b/g,(function(e,t){return r(t,"<strong><em>","</em></strong>")}))).replace(/\b__(\S[\s\S]*?)__\b/g,(function(e,t){return r(t,"<strong>","</strong>")}))).replace(/\b_(\S[\s\S]*?)_\b/g,(function(e,t){return r(t,"<em>","</em>")})):(e=(e=e.replace(/___(\S[\s\S]*?)___/g,(function(e,t){return/\S$/.test(t)?r(t,"<strong><em>","</em></strong>"):e}))).replace(/__(\S[\s\S]*?)__/g,(function(e,t){return/\S$/.test(t)?r(t,"<strong>","</strong>"):e}))).replace(/_([^\s_][\s\S]*?)_/g,(function(e,t){return/\S$/.test(t)?r(t,"<em>","</em>"):e})),e=t.literalMidWordAsterisks?(e=(e=e.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,(function(e,t,n){return r(n,t+"<strong><em>","</em></strong>")}))).replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,(function(e,t,n){return r(n,t+"<strong>","</strong>")}))).replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,(function(e,t,n){return r(n,t+"<em>","</em>")})):(e=(e=e.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,(function(e,t){return/\S$/.test(t)?r(t,"<strong><em>","</em></strong>"):e}))).replace(/\*\*(\S[\s\S]*?)\*\*/g,(function(e,t){return/\S$/.test(t)?r(t,"<strong>","</strong>"):e}))).replace(/\*([^\s*][\s\S]*?)\*/g,(function(e,t){return/\S$/.test(t)?r(t,"<em>","</em>"):e})),n.converter._dispatch("italicsAndBold.after",e,t,n)})),s.subParser("lists",(function(e,t,n){"use strict";function r(e,r){n.gListLevel++,e=e.replace(/\n{2,}$/,"\n");var a=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,o=/\n[ \t]*\n(?!¨0)/.test(e+="¨0");return t.disableForced4SpacesIndentedSublists&&(a=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0|\2([*+-]|\d+[.])[ \t]+))/gm),e=(e=e.replace(a,(function(e,r,a,i,l,c,u){u=u&&""!==u.trim();var d=s.subParser("outdent")(l,t,n),h="";return c&&t.tasklists&&(h=' class="task-list-item" style="list-style-type: none;"',d=d.replace(/^[ \t]*\[(x|X| )?]/m,(function(){var e='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return u&&(e+=" checked"),e+">"}))),d=d.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,(function(e){return"¨A"+e})),r||d.search(/\n{2,}/)>-1?(d=s.subParser("githubCodeBlocks")(d,t,n),d=s.subParser("blockGamut")(d,t,n)):(d=(d=s.subParser("lists")(d,t,n)).replace(/\n$/,""),d=(d=s.subParser("hashHTMLBlocks")(d,t,n)).replace(/\n\n+/g,"\n\n"),d=o?s.subParser("paragraphs")(d,t,n):s.subParser("spanGamut")(d,t,n)),"<li"+h+">"+(d=d.replace("¨A",""))+"</li>\n"}))).replace(/¨0/g,""),n.gListLevel--,r&&(e=e.replace(/\s+$/,"")),e}function a(e,t){if("ol"===t){var n=e.match(/^ *(\d+)\./);if(n&&"1"!==n[1])return' start="'+n[1]+'"'}return""}function o(e,n,s){var o=t.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,i=t.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,l="ul"===n?o:i,c="";if(-1!==e.search(l))!function t(u){var d=u.search(l),h=a(e,n);-1!==d?(c+="\n\n<"+n+h+">\n"+r(u.slice(0,d),!!s)+"</"+n+">\n",l="ul"==(n="ul"===n?"ol":"ul")?o:i,t(u.slice(d))):c+="\n\n<"+n+h+">\n"+r(u,!!s)+"</"+n+">\n"}(e);else{var u=a(e,n);c="\n\n<"+n+u+">\n"+r(e,!!s)+"</"+n+">\n"}return c}return e=n.converter._dispatch("lists.before",e,t,n),e+="¨0",e=(e=n.gListLevel?e.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,(function(e,t,n){return o(t,n.search(/[*+-]/g)>-1?"ul":"ol",!0)})):e.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,(function(e,t,n,r){return o(n,r.search(/[*+-]/g)>-1?"ul":"ol",!1)}))).replace(/¨0/,""),n.converter._dispatch("lists.after",e,t,n)})),s.subParser("metadata",(function(e,t,n){"use strict";if(!t.metadata)return e;function r(e){n.metadata.raw=e,(e=(e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;")).replace(/\n {4}/g," ")).replace(/^([\S ]+): +([\s\S]+?)$/gm,(function(e,t,r){return n.metadata.parsed[t]=r,""}))}return e=(e=(e=(e=n.converter._dispatch("metadata.before",e,t,n)).replace(/^\s*«««+(\S*?)\n([\s\S]+?)\n»»»+\n/,(function(e,t,n){return r(n),"¨M"}))).replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,(function(e,t,a){return t&&(n.metadata.format=t),r(a),"¨M"}))).replace(/¨M/g,""),n.converter._dispatch("metadata.after",e,t,n)})),s.subParser("outdent",(function(e,t,n){"use strict";return e=(e=(e=n.converter._dispatch("outdent.before",e,t,n)).replace(/^(\t|[ ]{1,4})/gm,"¨0")).replace(/¨0/g,""),n.converter._dispatch("outdent.after",e,t,n)})),s.subParser("paragraphs",(function(e,t,n){"use strict";for(var r=(e=(e=(e=n.converter._dispatch("paragraphs.before",e,t,n)).replace(/^\n+/g,"")).replace(/\n+$/g,"")).split(/\n{2,}/g),a=[],o=r.length,i=0;i<o;i++){var l=r[i];l.search(/¨(K|G)(\d+)\1/g)>=0?a.push(l):l.search(/\S/)>=0&&(l=(l=s.subParser("spanGamut")(l,t,n)).replace(/^([ \t]*)/g,"<p>"),l+="</p>",a.push(l))}for(o=a.length,i=0;i<o;i++){for(var c="",u=a[i],d=!1;/¨(K|G)(\d+)\1/.test(u);){var h=RegExp.$1,p=RegExp.$2;c=(c="K"===h?n.gHtmlBlocks[p]:d?s.subParser("encodeCode")(n.ghCodeBlocks[p].text,t,n):n.ghCodeBlocks[p].codeblock).replace(/\$/g,"$$$$"),u=u.replace(/(\n\n)?¨(K|G)\d+\2(\n\n)?/,c),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(u)&&(d=!0)}a[i]=u}return e=(e=(e=a.join("\n")).replace(/^\n+/g,"")).replace(/\n+$/g,""),n.converter._dispatch("paragraphs.after",e,t,n)})),s.subParser("runExtension",(function(e,t,n,r){"use strict";if(e.filter)t=e.filter(t,r.converter,n);else if(e.regex){var a=e.regex;a instanceof RegExp||(a=new RegExp(a,"g")),t=t.replace(a,e.replace)}return t})),s.subParser("spanGamut",(function(e,t,n){"use strict";return e=n.converter._dispatch("spanGamut.before",e,t,n),e=s.subParser("codeSpans")(e,t,n),e=s.subParser("escapeSpecialCharsWithinTagAttributes")(e,t,n),e=s.subParser("encodeBackslashEscapes")(e,t,n),e=s.subParser("images")(e,t,n),e=s.subParser("anchors")(e,t,n),e=s.subParser("autoLinks")(e,t,n),e=s.subParser("simplifiedAutoLinks")(e,t,n),e=s.subParser("emoji")(e,t,n),e=s.subParser("underline")(e,t,n),e=s.subParser("italicsAndBold")(e,t,n),e=s.subParser("strikethrough")(e,t,n),e=s.subParser("ellipsis")(e,t,n),e=s.subParser("hashHTMLSpans")(e,t,n),e=s.subParser("encodeAmpsAndAngles")(e,t,n),t.simpleLineBreaks?/\n\n¨K/.test(e)||(e=e.replace(/\n+/g,"<br />\n")):e=e.replace(/  +\n/g,"<br />\n"),n.converter._dispatch("spanGamut.after",e,t,n)})),s.subParser("strikethrough",(function(e,t,n){"use strict";return t.strikethrough&&(e=(e=n.converter._dispatch("strikethrough.before",e,t,n)).replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,(function(e,r){return function(e){return t.simplifiedAutoLink&&(e=s.subParser("simplifiedAutoLinks")(e,t,n)),"<del>"+e+"</del>"}(r)})),e=n.converter._dispatch("strikethrough.after",e,t,n)),e})),s.subParser("stripLinkDefinitions",(function(e,t,n){"use strict";var r=function(e,r,a,o,i,l,c){return r=r.toLowerCase(),a.match(/^data:.+?\/.+?;base64,/)?n.gUrls[r]=a.replace(/\s/g,""):n.gUrls[r]=s.subParser("encodeAmpsAndAngles")(a,t,n),l?l+c:(c&&(n.gTitles[r]=c.replace(/"|'/g,"&quot;")),t.parseImgDimensions&&o&&i&&(n.gDimensions[r]={width:o,height:i}),"")};return(e=(e=(e+="¨0").replace(/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=¨0)|(?=\n\[))/gm,r)).replace(/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=¨0))/gm,r)).replace(/¨0/,"")})),s.subParser("tables",(function(e,t,n){"use strict";if(!t.tables)return e;function r(e,r){return"<td"+r+">"+s.subParser("spanGamut")(e,t,n)+"</td>\n"}function a(e){var a,o=e.split("\n");for(a=0;a<o.length;++a)/^ {0,3}\|/.test(o[a])&&(o[a]=o[a].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(o[a])&&(o[a]=o[a].replace(/\|[ \t]*$/,"")),o[a]=s.subParser("codeSpans")(o[a],t,n);var i,l,c,u,d=o[0].split("|").map((function(e){return e.trim()})),h=o[1].split("|").map((function(e){return e.trim()})),p=[],f=[],g=[],_=[];for(o.shift(),o.shift(),a=0;a<o.length;++a)""!==o[a].trim()&&p.push(o[a].split("|").map((function(e){return e.trim()})));if(d.length<h.length)return e;for(a=0;a<h.length;++a)g.push((i=h[a],/^:[ \t]*--*$/.test(i)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(i)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(i)?' style="text-align:center;"':""));for(a=0;a<d.length;++a)s.helper.isUndefined(g[a])&&(g[a]=""),f.push((l=d[a],c=g[a],u=void 0,u="",l=l.trim(),(t.tablesHeaderId||t.tableHeaderId)&&(u=' id="'+l.replace(/ /g,"_").toLowerCase()+'"'),"<th"+u+c+">"+(l=s.subParser("spanGamut")(l,t,n))+"</th>\n"));for(a=0;a<p.length;++a){for(var m=[],b=0;b<f.length;++b)s.helper.isUndefined(p[a][b]),m.push(r(p[a][b],g[b]));_.push(m)}return function(e,t){for(var n="<table>\n<thead>\n<tr>\n",r=e.length,a=0;a<r;++a)n+=e[a];for(n+="</tr>\n</thead>\n<tbody>\n",a=0;a<t.length;++a){n+="<tr>\n";for(var s=0;s<r;++s)n+=t[a][s];n+="</tr>\n"}return n+"</tbody>\n</table>\n"}(f,_)}return e=(e=(e=(e=n.converter._dispatch("tables.before",e,t,n)).replace(/\\(\|)/g,s.helper.escapeCharactersCallback)).replace(/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|¨0)/gm,a)).replace(/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|¨0)/gm,a),n.converter._dispatch("tables.after",e,t,n)})),s.subParser("underline",(function(e,t,n){"use strict";return t.underline?(e=n.converter._dispatch("underline.before",e,t,n),e=(e=t.literalMidWordUnderscores?(e=e.replace(/\b___(\S[\s\S]*?)___\b/g,(function(e,t){return"<u>"+t+"</u>"}))).replace(/\b__(\S[\s\S]*?)__\b/g,(function(e,t){return"<u>"+t+"</u>"})):(e=e.replace(/___(\S[\s\S]*?)___/g,(function(e,t){return/\S$/.test(t)?"<u>"+t+"</u>":e}))).replace(/__(\S[\s\S]*?)__/g,(function(e,t){return/\S$/.test(t)?"<u>"+t+"</u>":e}))).replace(/(_)/g,s.helper.escapeCharactersCallback),e=n.converter._dispatch("underline.after",e,t,n)):e})),s.subParser("unescapeSpecialChars",(function(e,t,n){"use strict";return e=(e=n.converter._dispatch("unescapeSpecialChars.before",e,t,n)).replace(/¨E(\d+)E/g,(function(e,t){var n=parseInt(t);return String.fromCharCode(n)})),n.converter._dispatch("unescapeSpecialChars.after",e,t,n)})),s.subParser("makeMarkdown.blockquote",(function(e,t){"use strict";var n="";if(e.hasChildNodes())for(var r=e.childNodes,a=r.length,o=0;o<a;++o){var i=s.subParser("makeMarkdown.node")(r[o],t);""!==i&&(n+=i)}return"> "+(n=n.trim()).split("\n").join("\n> ")})),s.subParser("makeMarkdown.codeBlock",(function(e,t){"use strict";var n=e.getAttribute("language"),r=e.getAttribute("precodenum");return"```"+n+"\n"+t.preList[r]+"\n```"})),s.subParser("makeMarkdown.codeSpan",(function(e){"use strict";return"`"+e.innerHTML+"`"})),s.subParser("makeMarkdown.emphasis",(function(e,t){"use strict";var n="";if(e.hasChildNodes()){n+="*";for(var r=e.childNodes,a=r.length,o=0;o<a;++o)n+=s.subParser("makeMarkdown.node")(r[o],t);n+="*"}return n})),s.subParser("makeMarkdown.header",(function(e,t,n){"use strict";var r=new Array(n+1).join("#"),a="";if(e.hasChildNodes()){a=r+" ";for(var o=e.childNodes,i=o.length,l=0;l<i;++l)a+=s.subParser("makeMarkdown.node")(o[l],t)}return a})),s.subParser("makeMarkdown.hr",(function(){"use strict";return"---"})),s.subParser("makeMarkdown.image",(function(e){"use strict";var t="";return e.hasAttribute("src")&&(t+="!["+e.getAttribute("alt")+"](",t+="<"+e.getAttribute("src")+">",e.hasAttribute("width")&&e.hasAttribute("height")&&(t+=" ="+e.getAttribute("width")+"x"+e.getAttribute("height")),e.hasAttribute("title")&&(t+=' "'+e.getAttribute("title")+'"'),t+=")"),t})),s.subParser("makeMarkdown.links",(function(e,t){"use strict";var n="";if(e.hasChildNodes()&&e.hasAttribute("href")){var r=e.childNodes,a=r.length;n="[";for(var o=0;o<a;++o)n+=s.subParser("makeMarkdown.node")(r[o],t);n+="](",n+="<"+e.getAttribute("href")+">",e.hasAttribute("title")&&(n+=' "'+e.getAttribute("title")+'"'),n+=")"}return n})),s.subParser("makeMarkdown.list",(function(e,t,n){"use strict";var r="";if(!e.hasChildNodes())return"";for(var a=e.childNodes,o=a.length,i=e.getAttribute("start")||1,l=0;l<o;++l)void 0!==a[l].tagName&&"li"===a[l].tagName.toLowerCase()&&(r+=("ol"===n?i.toString()+". ":"- ")+s.subParser("makeMarkdown.listItem")(a[l],t),++i);return(r+="\n\x3c!-- --\x3e\n").trim()})),s.subParser("makeMarkdown.listItem",(function(e,t){"use strict";for(var n="",r=e.childNodes,a=r.length,o=0;o<a;++o)n+=s.subParser("makeMarkdown.node")(r[o],t);return/\n$/.test(n)?n=n.split("\n").join("\n    ").replace(/^ {4}$/gm,"").replace(/\n\n+/g,"\n\n"):n+="\n",n})),s.subParser("makeMarkdown.node",(function(e,t,n){"use strict";n=n||!1;var r="";if(3===e.nodeType)return s.subParser("makeMarkdown.txt")(e,t);if(8===e.nodeType)return"\x3c!--"+e.data+"--\x3e\n\n";if(1!==e.nodeType)return"";switch(e.tagName.toLowerCase()){case"h1":n||(r=s.subParser("makeMarkdown.header")(e,t,1)+"\n\n");break;case"h2":n||(r=s.subParser("makeMarkdown.header")(e,t,2)+"\n\n");break;case"h3":n||(r=s.subParser("makeMarkdown.header")(e,t,3)+"\n\n");break;case"h4":n||(r=s.subParser("makeMarkdown.header")(e,t,4)+"\n\n");break;case"h5":n||(r=s.subParser("makeMarkdown.header")(e,t,5)+"\n\n");break;case"h6":n||(r=s.subParser("makeMarkdown.header")(e,t,6)+"\n\n");break;case"p":n||(r=s.subParser("makeMarkdown.paragraph")(e,t)+"\n\n");break;case"blockquote":n||(r=s.subParser("makeMarkdown.blockquote")(e,t)+"\n\n");break;case"hr":n||(r=s.subParser("makeMarkdown.hr")(e,t)+"\n\n");break;case"ol":n||(r=s.subParser("makeMarkdown.list")(e,t,"ol")+"\n\n");break;case"ul":n||(r=s.subParser("makeMarkdown.list")(e,t,"ul")+"\n\n");break;case"precode":n||(r=s.subParser("makeMarkdown.codeBlock")(e,t)+"\n\n");break;case"pre":n||(r=s.subParser("makeMarkdown.pre")(e,t)+"\n\n");break;case"table":n||(r=s.subParser("makeMarkdown.table")(e,t)+"\n\n");break;case"code":r=s.subParser("makeMarkdown.codeSpan")(e,t);break;case"em":case"i":r=s.subParser("makeMarkdown.emphasis")(e,t);break;case"strong":case"b":r=s.subParser("makeMarkdown.strong")(e,t);break;case"del":r=s.subParser("makeMarkdown.strikethrough")(e,t);break;case"a":r=s.subParser("makeMarkdown.links")(e,t);break;case"img":r=s.subParser("makeMarkdown.image")(e,t);break;default:r=e.outerHTML+"\n\n"}return r})),s.subParser("makeMarkdown.paragraph",(function(e,t){"use strict";var n="";if(e.hasChildNodes())for(var r=e.childNodes,a=r.length,o=0;o<a;++o)n+=s.subParser("makeMarkdown.node")(r[o],t);return n.trim()})),s.subParser("makeMarkdown.pre",(function(e,t){"use strict";var n=e.getAttribute("prenum");return"<pre>"+t.preList[n]+"</pre>"})),s.subParser("makeMarkdown.strikethrough",(function(e,t){"use strict";var n="";if(e.hasChildNodes()){n+="~~";for(var r=e.childNodes,a=r.length,o=0;o<a;++o)n+=s.subParser("makeMarkdown.node")(r[o],t);n+="~~"}return n})),s.subParser("makeMarkdown.strong",(function(e,t){"use strict";var n="";if(e.hasChildNodes()){n+="**";for(var r=e.childNodes,a=r.length,o=0;o<a;++o)n+=s.subParser("makeMarkdown.node")(r[o],t);n+="**"}return n})),s.subParser("makeMarkdown.table",(function(e,t){"use strict";var n,r,a="",o=[[],[]],i=e.querySelectorAll("thead>tr>th"),l=e.querySelectorAll("tbody>tr");for(n=0;n<i.length;++n){var c=s.subParser("makeMarkdown.tableCell")(i[n],t),u="---";if(i[n].hasAttribute("style"))switch(i[n].getAttribute("style").toLowerCase().replace(/\s/g,"")){case"text-align:left;":u=":---";break;case"text-align:right;":u="---:";break;case"text-align:center;":u=":---:"}o[0][n]=c.trim(),o[1][n]=u}for(n=0;n<l.length;++n){var d=o.push([])-1,h=l[n].getElementsByTagName("td");for(r=0;r<i.length;++r){var p=" ";void 0!==h[r]&&(p=s.subParser("makeMarkdown.tableCell")(h[r],t)),o[d].push(p)}}var f=3;for(n=0;n<o.length;++n)for(r=0;r<o[n].length;++r){var g=o[n][r].length;g>f&&(f=g)}for(n=0;n<o.length;++n){for(r=0;r<o[n].length;++r)1===n?":"===o[n][r].slice(-1)?o[n][r]=s.helper.padEnd(o[n][r].slice(-1),f-1,"-")+":":o[n][r]=s.helper.padEnd(o[n][r],f,"-"):o[n][r]=s.helper.padEnd(o[n][r],f);a+="| "+o[n].join(" | ")+" |\n"}return a.trim()})),s.subParser("makeMarkdown.tableCell",(function(e,t){"use strict";var n="";if(!e.hasChildNodes())return"";for(var r=e.childNodes,a=r.length,o=0;o<a;++o)n+=s.subParser("makeMarkdown.node")(r[o],t,!0);return n.trim()})),s.subParser("makeMarkdown.txt",(function(e){"use strict";var t=e.nodeValue;return t=(t=t.replace(/ +/g," ")).replace(/¨NBSP;/g," "),(t=(t=(t=(t=(t=(t=(t=(t=s.helper.unescapeHTMLEntities(t)).replace(/([*_~|`])/g,"\\$1")).replace(/^(\s*)>/g,"\\$1>")).replace(/^#/gm,"\\#")).replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3")).replace(/^( {0,3}\d+)\./gm,"$1\\.")).replace(/^( {0,3})([+-])/gm,"$1\\$2")).replace(/]([\s]*)\(/g,"\\]$1\\(")).replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:")})),void 0===(r=function(){"use strict";return s}.call(t,n,t,e))||(e.exports=r)}).call(this)},12:(e,t,n)=>{"use strict";e.exports=n.p+"08da13c09fcc675ab837.png"},212:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});const r={STREAM:"STREAM",EARLY:"EARLY",LEGACY:"LEGACY"};var a=n(917);const s=class{constructor(e){"string"==typeof e?this.version=e||r.EARLY:(this.parser=e.parser,this.interpreter=e.interpreter)}async init(){if(this.version===r.LEGACY)this.generateDeliveryObject(await n.e(602).then(n.bind(n,602)),a.IF);else if(this.version===r.EARLY)this.generateDeliveryObject(await n.e(151).then(n.bind(n,151)),a.IF);else if(this.version===r.STREAM){const e=await n.e(785).then(n.bind(n,785)),t=await n.e(160).then(n.bind(n,160));this.parser=e.default.parseText,this.interpreter=new t.default,this.Interpreter=t.default,this.Parser=e}}generateDeliveryObject(e,t){this.parser=e,this.interpreter=t,this.methods=t.methods,this.story=t.story,this.grammar=t.grammar,this.state=t.state,this.DEBUG=t.DEBUG,this.dom=t.dom}static versions(){return r}}},917:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{IF:()=>IF});var showdown__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(132);const IF={story:{},grammar:{},state:{}};IF.DEBUG=!!localStorage.getItem("IF_DEBUG"),IF.dom={target_id:"#if_r-output-area",alert_area_id:"#if_r-alerts-area",section_display_id:"#if_r-section-display-area",burger_id:"#if_r-burger",stats_div_id:"#if_r-stats-div",stats_div_class:".if_r-stats-div",undo_button_id:"#if_r-undo-button",reset_button_id:"#if_r-reset-button",variableRegex:/\$\{[a-zA-Z0-9=]+?\}/g},IF.methods={generateHTML:function(e){const{name:t,sections:n,passages:r}=e;let a="";return a+=`<h2>${t} - New Story</h2>`,document.title=`${t} | IF`,n.forEach((e=>{a+=IF.methods.generateHTMLForSection(e)})),a},generateSectionBySerial:function(e){const t=IF.story.findSection(parseInt(e));return IF.methods.generateHTMLForSection(t)},generateHTMLForSection:function(e){let t="";if(!e)return void IF.methods.showAlert("Something's wrong!");const{title:n,choices:r,text:a,serial:s}=e;let o=n;const i=o.match(IF.dom.variableRegex);o=IF.methods.replaceVars(o,i);let l=a;const c=l.match(IF.dom.variableRegex);return l=IF.methods.replaceVars(l,c),l=IF.methods.formatText(l),t+=`<div class="if_r-section" id="section-${s}">`,t+=`<h3 class="if_r-section-title">${o}</h3>`,t+=`<div class="if_r-paras">${l}</div>`,t+=`<ul class="if_r-section-choices-list" id="section-${s}-choices">`,t=IF.methods.loadChoices(r,t,s),t+="</ul>",t+="</div>",t},loadChoices:function(e,t,n){return e.forEach(((e,r)=>{if(IF.methods.isSatisfied(e.condition)){const{target:a,owner:s,mode:o,variables:i}=e,l=e.text.match(IF.dom.variableRegex);let c=e.text;c=IF.methods.replaceVars(c,l),t+=`<li class="if_r-section-choice-li">\n<a class="if_r-section-choice" data-if_r-target="${a}"\ndata-if_r-owner="${s}" id="if_r-${n}-choice-${r+=1}"\ndata-if_r-mode="${o}" data-if_r-i="${r}" href="#"\ndata-if_r-variables="${i.join(", ")}">${c}</a>\n</li>`}})),t},isSatisfied:function(e){if(!e)return!0;const{comparisons:t,glue:n,type:r}=e;return n?"&"===n.trim()?(t.forEach((e=>{if(!IF.methods.doesMatch(e))return!1})),!0):"|"===n.trim()?(t.forEach((e=>{if(IF.methods.doesMatch(e))return!0})),!1):void 0:IF.methods.doesMatch(t[0])},doesMatch:function(comp,type){let truth=!1;if(type&&"vs"===type){const real=IF.story.variables[comp.variable],given=parseInt(comp.against)?parseInt(comp.against):comp.against.trim();truth=eval(`(parseInt('${real}') ? parseInt('${real}') : '${real}') ${comp.operator.trim()} (parseInt('${given}') ? parseInt('${given}') : '${given}') ? true : false`)}else{const real=IF.story.variables[comp.variable],given=parseInt(comp.against)?parseInt(comp.against):IF.story.variables[comp.against.trim()];truth=eval(`(parseInt('${real}') ? parseInt('${real}') : '${real}') ${comp.operator.trim()} (parseInt('${given}') ? parseInt('${given}') : '${given}') ? true : false`)}return truth},replaceVars:function(e,t){return t&&t.forEach((t=>{const n=t.replace(/\$\{/,"").replace(/\}/,"").trim(),r=/random\([0-9]*,[0-9]*\)/;if(IF.story.variables[n]||0===IF.story.variables[n]){IF.DEBUG&&console.log("Replacing:",n," with",IF.story.variables[n]);let t=IF.story.variables[n],a=null;if("string"==typeof t&&(a=IF.story.variables[n].match(r)),a&&a.length>0){let[e,n]=a[0].match(/[0-9]*/g);e=parseInt(e),n=parseInt(n),t=Math.floor(Math.random()*(Math.max(n,e)-Math.min(n,e)))+Math.min(n,e)}e=e.replace(new RegExp("\\$\\{\\s*"+n+"\\s*\\}"),t)}else IF.DEBUG&&console.log("Rejecting:",n,", because the value is =",IF.story.variables[n]),e=e.replace(new RegExp("\\$\\{\\s*"+n+"\\s*\\}"),"")})),e},formatText:function(e){return showdown__WEBPACK_IMPORTED_MODULE_0__?(new showdown__WEBPACK_IMPORTED_MODULE_0__.Converter).makeHtml(e):e},setupUndo:function(){IF.methods.setState({lastSection:IF.state.section})},recordOldValues:function(e){IF.state.oldValues={},e.forEach((e=>{IF.state.oldValues[e]=IF.story.variables[e]}))},undoVars:function(e){Object.keys(e).forEach((t=>{IF.story.variables[t]=e[t]}))},undoTurn:function(){IF.methods.undoVars(IF.state.oldValues),IF.methods.changeTurn(-1),IF.methods.switchSection(IF.state.lastSection.serial,!0),document.querySelector(IF.dom.undo_button_id).style.display="none"},switchSection:function(e,t){const n=IF.methods.generateSectionBySerial(e);IF.methods.loadSection(n),t||(IF.methods.setupUndo(),document.querySelector(IF.dom.undo_button_id).style.display="block");const r=IF.story.findSection(e),{timer:a,target:s}=r.settings.timer;IF.state.currentTimeout&&clearTimeout(IF.state.currentTimeout),a&&s&&(IF.state.currentTimeout=IF.methods.setTimer(a,s)),t||IF.methods.changeTurn(),IF.methods.setState({section:e}),IF.methods.showStats()},setState:function(e){Object.keys(e).forEach((t=>{"section"!==t?IF.state[t]=e[t]:"section"===t&&(IF.state.section=IF.story.findSection(e.section))}))},changeTurn:function(e,t){IF.methods.setState({turn:t||(e?IF.state.turn+e:IF.state.turn+1)}),IF.story.variables.turn=t||(e?IF.state.turn+e:IF.state.turn+1)},showStats:function(){const e=Object.keys(IF.story.variables);let t=`<pre> <b>Turn:</b> ${IF.state.turn}   `;e.forEach((e=>{"turn"!==e&&(t+=`<b>${e}:</b> ${IF.story.variables[e]}   `)})),t+="</pre>",document.querySelector(IF.dom.alert_area_id).innerHTML=t},loadSection:function(e,t){IF.story.settings.referrable?IF.methods.appendSection(e,t):IF.methods.replaceSection(e,t)},changeVariables:function(e,t){IF.methods.recordOldValues(e),e.forEach((e=>{IF.story.variables[e]=parseInt(t)?parseInt(t):t}))},doActions:function(e){e.forEach((e=>{const t=e.operator.trim(),n=e.subject.trim(),{type:r}=e;if(void 0===IF.state.oldValues[n]&&null===IF.state.oldValues[n]||IF.methods.recordOldValues([n]),r&&"vs"===r){if(IF.story.variables[n]||0===IF.story.variables[n]){const r=parseInt(e.modifier)?parseInt(e.modifier):e.modifier.trim();IF.methods.finishAction(n,t,r)}}else if(IF.story.variables[n]||0===IF.story.variables[n]){const r=parseInt(e.modifier.trim())?parseInt(e.modifier.trim()):IF.story.variables[e.modifier.trim()];IF.methods.finishAction(n,t,r)}}))},finishAction:function(e,t,n){"+"===t?IF.story.variables[e]+=n:"-"===t?IF.story.variables[e]-=n:"*"===t?IF.story.variables[e]*=n:"/"===t?IF.story.variables[e]/=n:"="===t&&(IF.story.variables[e]=n)},executeJs:function(text){return eval(text)},setTimer:function(e,t){return setTimeout((()=>{IF.methods.switchSection(t)}),1e3*e)},replaceSection:function(e,t){document.querySelector(IF.dom.section_display_id).innerHTML=t?IF.methods.generateSectionBySerial(t):e,IF.methods.setListenersOnChoices()},appendSection:function(e,t){t?document.querySelector(IF.dom.section_display_id).innerHTML=IF.methods.generateSectionBySerial(t):document.querySelector(IF.dom.section_display_id).innerHTML+=e,IF.methods.setListenersOnChoices()},showAlert:function(e){document.querySelector(IF.dom.alert_area_id).innerHTML=e,setTimeout((()=>{document.querySelector(IF.dom.alert_area_id).innerHTML=""}),3e3)},setListenersOnChoices:function(){document.querySelectorAll(".if_r-section-choice").forEach((e=>{e.onclick=t=>{t.preventDefault();const n=e.getAttribute("data-if_r-i");let{actions:r,targetType:a,owner:s,mode:o,variables:i,target:l}=IF.state.section.findChoice(n);if("scene"===a){const e=IF.story.findScene(l);!0===IF.DEBUG&&console.log("Going to scene "+l),l=e.first,!0===IF.DEBUG&&console.log("Starting section "+l),IF.methods.doSceneActions(e)}if("input"===o){const t=document.querySelector(`#if_r-choice-input-${n}`).value;""===t||(e.onclick="",IF.methods.changeVariables(i,t),r&&IF.methods.doActions(r),IF.methods.switchSection(l))}else e.onclick="",IF.methods.changeVariables(i,e.innerHTML),r&&IF.methods.doActions(r),IF.methods.switchSection(l)}}))},doSceneActions:function(e){IF.DEBUG&&console.log("Doing relevant scene actions..."),IF.state.scene=e;const{music:t}=IF.state.scene;if(t)try{new URL(t),document.querySelector("#if_r-audio-source").src=t;const e=document.querySelector("#if_r-audio-player");e.load(),e.play()}catch(e){IF.DEBUG&&console.log("Invalid URL.")}},resetStory:function(){confirm("Restart the story? IF.methods is a beta feature.")&&IF.methods.loadStory(IF.story)},generateStatsHtml:function(){},setStats:function(e){stats_div.innerHTML=e},showStatsDiv:function(){const e=document.querySelector(IF.dom.stats_div_class);e.style.display="block",e.style.width="100%",IF.methods.sidebarListeners("set")},sidebarListeners:function(e){"set"===e?(document.querySelector(`${IF.dom.stats_div_id} .closebtn`).onclick=IF.methods.hideStatsDiv,document.querySelector(IF.dom.undo_button_id).onclick=IF.methods.undoTurn,document.querySelector(IF.dom.reset_button_id).onclick=IF.methods.resetStory):"unset"===e&&(document.querySelector(`${IF.dom.stats_div_class} .closebtn`).onclick="",document.querySelector(IF.dom.undo_button_id).onclick="",document.querySelector(IF.dom.reset_button_id).onclick="")},hideStatsDiv:function(){const e=document.querySelector(IF.dom.stats_div_class);e.style.display="none",e.style.width="0",IF.methods.sidebarListeners("unset")},replaceHash:function(e,t){return e.replace("#",t??"")},replaceDot:function(e,t){return e.replace(".",t??"")},generateDisplay:function(){console.info("Generating dislay..."),document.querySelector(IF.dom.target_id).innerHTML=`\n        <div id="${IF.methods.replaceHash(IF.dom.stats_div_id)}" class="${IF.methods.replaceDot(IF.dom.stats_div_class)}">\n            <a href="javascript:void(0)" class="closebtn">&times;</a>\n            <a href="#" id="${IF.methods.replaceHash(IF.dom.reset_button_id)}">Restart</a>\n            <a href="#" id="${IF.methods.replaceHash(IF.dom.undo_button_id)}">Undo</a>\n            <a href="#" id="">Stats</a>\n            <audio controls id="if_r-audio-player">\n                <source src="" type="audio/mp3" id="if_r-audio-source">\n                Your browser does not support the audio.\n            </audio>\n        </div>\n        <div id="if_r-status-bar">\n        <div id="${IF.methods.replaceHash(IF.dom.alert_area_id)}">\n        </div>\n        <div id="${IF.methods.replaceHash(IF.dom.burger_id)}">\n        <a href="#" id="if_r-burger-icon">&#9776;</a>\n        </div>\n        </div>\n        <div id="${IF.methods.replaceHash(IF.dom.section_display_id)}">\n        </div>`,document.querySelector(IF.dom.burger_id).addEventListener("click",(e=>{e.preventDefault(),IF.methods.showStatsDiv()})),console.info("Display loaded.")},resetVariables:function(){IF.story.variables={},Object.keys(IF.story.persistent).forEach((e=>IF.story.variables[e]=IF.story.persistent[e]))},addMethods:function(){IF.story.findSection=function(e){let t=IF.story.sections.findIndex((t=>t.serial===e));return-1===t&&(IF.DEBUG&&console.warn("No section "+e+" found. Reverting to default section serial 1."),t=0),IF.story.sections[t]},IF.story.findPassage=function(e){let t=IF.story.passages.findIndex((t=>t.serial===e));return-1===t&&(IF.DEBUG&&console.warn("No passage "+e+" found. Reverting to default passage serial 1."),t=0),IF.story.passages[t]},IF.story.sections=IF.story.sections.map((e=>(e.findChoice=function(e){let t=this.choices.findIndex((t=>t.choiceI===e));return-1===t&&(t=0),this.choices[t]},e))),IF.story.findScene=function(e,t){let n=IF.story.scenes.findIndex((t=>t.serial===e));return-1===n&&(IF.DEBUG&&console.warn("No scene "+e+" found. Reverting to default scene 1."),n=0),IF.story.scenes[n]}},loadStory:function(e){console.info("Story loading..."),IF.methods.generateDisplay(),IF.methods.addMethods(),IF.story=e,IF.methods.resetVariables();const{timer:t,target:n}=IF.story.settings.fullTimer;0!==t&&IF.methods.setTimer(t,n),IF.methods.setState({section:IF.story.settings.startAt,turn:0}),IF.story.variables.turn=0,IF.methods.loadSection(null,IF.story.settings.startAt),IF.methods.showStats(),document.querySelector(IF.dom.undo_button_id).style.display="none",IF.DEBUG||console.clear(),console.info("Load finished. Happy playing!")}}}},e=>{e(e.s=570)}]);